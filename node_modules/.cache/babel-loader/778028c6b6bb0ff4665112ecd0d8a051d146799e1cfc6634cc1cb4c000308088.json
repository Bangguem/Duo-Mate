{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"inquiry-detail\"\n};\nconst _hoisted_2 = {\n  class: \"preserve-newlines\"\n};\nconst _hoisted_3 = {\n  key: 0\n};\nconst _hoisted_4 = {\n  class: \"preserve-newlines\"\n};\nconst _hoisted_5 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return $data.inquiry ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"h2\", null, _toDisplayString($data.inquiry.title), 1), _createElementVNode(\"p\", null, [_cache[2] || (_cache[2] = _createElementVNode(\"strong\", null, \"ÏûëÏÑ±Ïûê:\", -1)), _createTextVNode(\" \" + _toDisplayString($data.inquiry.name), 1)]), _createElementVNode(\"p\", null, [_cache[3] || (_cache[3] = _createElementVNode(\"strong\", null, \"ÏûëÏÑ±Ïùº:\", -1)), _createTextVNode(\" \" + _toDisplayString($options.formatDate($data.inquiry.createdAt)), 1)]), _cache[8] || (_cache[8] = _createElementVNode(\"p\", null, [_createElementVNode(\"strong\", null, \"ÎÇ¥Ïö©:\")], -1)), _createElementVNode(\"p\", _hoisted_2, _toDisplayString($data.inquiry.content), 1), $data.inquiry.answer ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_cache[4] || (_cache[4] = _createElementVNode(\"hr\", null, null, -1)), _cache[5] || (_cache[5] = _createElementVNode(\"h3\", null, \"üí¨ Í¥ÄÎ¶¨Ïûê ÎãµÎ≥Ä\", -1)), _createElementVNode(\"p\", _hoisted_4, _toDisplayString($data.inquiry.answer), 1)])) : $options.isAdmin ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_cache[6] || (_cache[6] = _createElementVNode(\"hr\", null, null, -1)), _cache[7] || (_cache[7] = _createElementVNode(\"h3\", null, \"üõ† ÎãµÎ≥Ä ÏûëÏÑ±\", -1)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.answer = $event),\n    rows: \"5\",\n    style: {\n      \"width\": \"100%\"\n    }\n  }, null, 512), [[_vModelText, $data.answer]]), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.submitAnswer && $options.submitAnswer(...args))\n  }, \"ÎãµÎ≥Ä Îì±Î°ù\")])) : _createCommentVNode(\"\", true)])) : _createCommentVNode(\"\", true);\n}","map":{"version":3,"names":["key","class","$data","inquiry","_createElementBlock","_hoisted_1","_createElementVNode","_toDisplayString","title","_createTextVNode","name","$options","formatDate","createdAt","_hoisted_2","content","answer","_hoisted_3","_hoisted_4","isAdmin","_hoisted_5","_cache","$event","rows","style","onClick","args","submitAnswer","_createCommentVNode"],"sources":["/Users/bangguem/Desktop/·ÑÜ·Ö•·Ñå·Öµ/Duo-Mate/src/components/InquiryDetail.vue"],"sourcesContent":["<template>\n  <div class=\"inquiry-detail\" v-if=\"inquiry\">\n    <h2>{{ inquiry.title }}</h2>\n    <p><strong>ÏûëÏÑ±Ïûê:</strong> {{ inquiry.name }}</p>\n    <p><strong>ÏûëÏÑ±Ïùº:</strong> {{ formatDate(inquiry.createdAt) }}</p>\n    <p><strong>ÎÇ¥Ïö©:</strong></p>\n    <p class=\"preserve-newlines\">{{ inquiry.content }}</p>\n\n    <div v-if=\"inquiry.answer\">\n      <hr />\n      <h3>üí¨ Í¥ÄÎ¶¨Ïûê ÎãµÎ≥Ä</h3>\n      <p class=\"preserve-newlines\">{{ inquiry.answer }}</p>\n    </div>\n\n    <div v-else-if=\"isAdmin\">\n      <hr />\n      <h3>üõ† ÎãµÎ≥Ä ÏûëÏÑ±</h3>\n      <textarea v-model=\"answer\" rows=\"5\" style=\"width: 100%;\"></textarea>\n      <button @click=\"submitAnswer\">ÎãµÎ≥Ä Îì±Î°ù</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'InquiryDetail',\n  props: ['id'],\n  data() {\n    return {\n      inquiry: null,\n      answer: '',\n      user: null,\n    };\n  },\n  computed: {\n    isAdmin() {\n      return this.user && this.user.userid === 'Admin';\n    },\n  },\n  async created() {\n    await this.fetchUser();\n    await this.fetchInquiry();\n  },\n  methods: {\n    async fetchUser() {\n      try {\n        const res = await axios.get(`${process.env.VUE_APP_API_URL}/auth/check-login`, {\n          withCredentials: true,\n        });\n        this.user = res.data.user;\n      } catch (error) {\n        console.error('Ïú†Ï†Ä Ï†ïÎ≥¥ Î∂àÎü¨Ïò§Í∏∞ Ïã§Ìå®:', error);\n      }\n    },\n    async fetchInquiry() {\n      try {\n        const res = await axios.get(`${process.env.VUE_APP_API_URL}/api/inquiries/${this.id}`, {\n          withCredentials: true,\n        });\n        this.inquiry = res.data.inquiry;\n      } catch (error) {\n        console.error('Î¨∏Ïùò Î∂àÎü¨Ïò§Í∏∞ Ïã§Ìå®:', error);\n      }\n    },\n    async submitAnswer() {\n      try {\n        await axios.put(\n          `${process.env.VUE_APP_API_URL}/api/inquiries/${this.id}/answer`,\n          { answer: this.answer },\n          { withCredentials: true }\n        );\n        this.inquiry.answer = this.answer;\n        this.inquiry.status = 'answered';\n        this.answer = '';\n        alert('ÎãµÎ≥ÄÏù¥ Îì±Î°ùÎêòÏóàÏäµÎãàÎã§!');\n      } catch (error) {\n        console.error('ÎãµÎ≥Ä Îì±Î°ù Ïã§Ìå®:', error);\n      }\n    },\n    formatDate(dateStr) {\n      const date = new Date(dateStr);\n      return date.toLocaleDateString() + ' ' + date.toLocaleTimeString();\n    },\n  },\n};\n</script>\n\n<style scoped>\n.preserve-newlines {\n  white-space: pre-wrap;\n}\n\n.inquiry-detail {\n  max-width: 700px;\n  margin: 0 auto;\n}\n\ntextarea {\n  margin-top: 0.5rem;\n}\n\nbutton {\n  margin-top: 0.5rem;\n  padding: 0.5rem 1rem;\n}\n</style>"],"mappings":";;EAAAA,GAAA;EACOC,KAAK,EAAC;;;EAKNA,KAAK,EAAC;AAAmB;;EANhCD,GAAA;AAAA;;EAWSC,KAAK,EAAC;AAAmB;;EAXlCD,GAAA;AAAA;;SACoCE,KAAA,CAAAC,OAAO,I,cAAzCC,mBAAA,CAmBM,OAnBNC,UAmBM,GAlBJC,mBAAA,CAA4B,YAAAC,gBAAA,CAArBL,KAAA,CAAAC,OAAO,CAACK,KAAK,OACpBF,mBAAA,CAA+C,Y,0BAA5CA,mBAAA,CAAqB,gBAAb,MAAI,QAHnBG,gBAAA,CAG4B,GAAC,GAAAF,gBAAA,CAAGL,KAAA,CAAAC,OAAO,CAACO,IAAI,M,GACxCJ,mBAAA,CAAgE,Y,0BAA7DA,mBAAA,CAAqB,gBAAb,MAAI,QAJnBG,gBAAA,CAI4B,GAAC,GAAAF,gBAAA,CAAGI,QAAA,CAAAC,UAAU,CAACV,KAAA,CAAAC,OAAO,CAACU,SAAS,O,6BACxDP,mBAAA,CAA2B,YAAxBA,mBAAA,CAAoB,gBAAZ,KAAG,E,QACdA,mBAAA,CAAsD,KAAtDQ,UAAsD,EAAAP,gBAAA,CAAtBL,KAAA,CAAAC,OAAO,CAACY,OAAO,OAEpCb,KAAA,CAAAC,OAAO,CAACa,MAAM,I,cAAzBZ,mBAAA,CAIM,OAZVa,UAAA,G,0BASMX,mBAAA,CAAM,wB,0BACNA,mBAAA,CAAkB,YAAd,WAAS,QACbA,mBAAA,CAAqD,KAArDY,UAAqD,EAAAX,gBAAA,CAArBL,KAAA,CAAAC,OAAO,CAACa,MAAM,M,KAGhCL,QAAA,CAAAQ,OAAO,I,cAAvBf,mBAAA,CAKM,OAnBVgB,UAAA,G,0BAeMd,mBAAA,CAAM,wB,0BACNA,mBAAA,CAAiB,YAAb,UAAQ,Q,gBACZA,mBAAA,CAAoE;IAjB1E,uBAAAe,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAiByBpB,KAAA,CAAAc,MAAM,GAAAM,MAAA;IAAEC,IAAI,EAAC,GAAG;IAACC,KAAoB,EAApB;MAAA;IAAA;gCAAjBtB,KAAA,CAAAc,MAAM,E,GACzBV,mBAAA,CAA4C;IAAnCmB,OAAK,EAAAJ,MAAA,QAAAA,MAAA,UAAAK,IAAA,KAAEf,QAAA,CAAAgB,YAAA,IAAAhB,QAAA,CAAAgB,YAAA,IAAAD,IAAA,CAAY;KAAE,OAAK,E,KAlBzCE,mBAAA,W,KAAAA,mBAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}