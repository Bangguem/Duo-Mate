{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'InquiryDetail',\n  props: ['id'],\n  data() {\n    return {\n      inquiry: null,\n      answer: '',\n      user: null\n    };\n  },\n  computed: {\n    isAdmin() {\n      return this.user && this.user.userid === 'Admin';\n    }\n  },\n  async created() {\n    await this.fetchUser();\n    await this.fetchInquiry();\n  },\n  methods: {\n    async fetchUser() {\n      try {\n        const res = await axios.get(`${process.env.VUE_APP_API_URL}/auth/check-login`, {\n          withCredentials: true\n        });\n        this.user = res.data.user;\n      } catch (error) {\n        console.error('Ïú†Ï†Ä Ï†ïÎ≥¥ Î∂àÎü¨Ïò§Í∏∞ Ïã§Ìå®:', error);\n      }\n    },\n    async fetchInquiry() {\n      try {\n        const res = await axios.get(`${process.env.VUE_APP_API_URL}/api/inquiries/${this.id}`, {\n          withCredentials: true\n        });\n        this.inquiry = res.data.inquiry;\n      } catch (error) {\n        console.error('Î¨∏Ïùò Î∂àÎü¨Ïò§Í∏∞ Ïã§Ìå®:', error);\n      }\n    },\n    async submitAnswer() {\n      try {\n        await axios.put(`${process.env.VUE_APP_API_URL}/api/inquiries/${this.id}/answer`, {\n          answer: this.answer\n        }, {\n          withCredentials: true\n        });\n        this.inquiry.answer = this.answer;\n        this.inquiry.status = 'answered';\n        this.answer = '';\n        alert('ÎãµÎ≥ÄÏù¥ Îì±Î°ùÎêòÏóàÏäµÎãàÎã§!');\n      } catch (error) {\n        console.error('ÎãµÎ≥Ä Îì±Î°ù Ïã§Ìå®:', error);\n      }\n    },\n    formatDate(dateStr) {\n      const date = new Date(dateStr);\n      return date.toLocaleDateString() + ' ' + date.toLocaleTimeString();\n    }\n  }\n};","map":{"version":3,"names":["axios","name","props","data","inquiry","answer","user","computed","isAdmin","userid","created","fetchUser","fetchInquiry","methods","res","get","process","env","VUE_APP_API_URL","withCredentials","error","console","id","submitAnswer","put","status","alert","formatDate","dateStr","date","Date","toLocaleDateString","toLocaleTimeString"],"sources":["/Users/bangguem/Desktop/·ÑÜ·Ö•·Ñå·Öµ/Duo-Mate/src/components/InquiryDetail.vue"],"sourcesContent":["<template>\n  <div class=\"inquiry-detail\" v-if=\"inquiry\">\n    <h2>{{ inquiry.title }}</h2>\n    <p><strong>ÏûëÏÑ±Ïûê:</strong> {{ inquiry.name }}</p>\n    <p><strong>ÏûëÏÑ±Ïùº:</strong> {{ formatDate(inquiry.createdAt) }}</p>\n    <p><strong>ÎÇ¥Ïö©:</strong></p>\n    <p class=\"preserve-newlines\">{{ inquiry.content }}</p>\n\n    <div v-if=\"inquiry.answer\">\n      <hr />\n      <h3>üí¨ Í¥ÄÎ¶¨Ïûê ÎãµÎ≥Ä</h3>\n      <p class=\"preserve-newlines\">{{ inquiry.answer }}</p>\n    </div>\n\n    <div v-else-if=\"isAdmin\">\n      <hr />\n      <h3>üõ† ÎãµÎ≥Ä ÏûëÏÑ±</h3>\n      <textarea v-model=\"answer\" rows=\"5\" style=\"width: 100%;\"></textarea>\n      <button @click=\"submitAnswer\">ÎãµÎ≥Ä Îì±Î°ù</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'InquiryDetail',\n  props: ['id'],\n  data() {\n    return {\n      inquiry: null,\n      answer: '',\n      user: null,\n    };\n  },\n  computed: {\n    isAdmin() {\n      return this.user && this.user.userid === 'Admin';\n    },\n  },\n  async created() {\n    await this.fetchUser();\n    await this.fetchInquiry();\n  },\n  methods: {\n    async fetchUser() {\n      try {\n        const res = await axios.get(`${process.env.VUE_APP_API_URL}/auth/check-login`, {\n          withCredentials: true,\n        });\n        this.user = res.data.user;\n      } catch (error) {\n        console.error('Ïú†Ï†Ä Ï†ïÎ≥¥ Î∂àÎü¨Ïò§Í∏∞ Ïã§Ìå®:', error);\n      }\n    },\n    async fetchInquiry() {\n      try {\n        const res = await axios.get(`${process.env.VUE_APP_API_URL}/api/inquiries/${this.id}`, {\n          withCredentials: true,\n        });\n        this.inquiry = res.data.inquiry;\n      } catch (error) {\n        console.error('Î¨∏Ïùò Î∂àÎü¨Ïò§Í∏∞ Ïã§Ìå®:', error);\n      }\n    },\n    async submitAnswer() {\n      try {\n        await axios.put(\n          `${process.env.VUE_APP_API_URL}/api/inquiries/${this.id}/answer`,\n          { answer: this.answer },\n          { withCredentials: true }\n        );\n        this.inquiry.answer = this.answer;\n        this.inquiry.status = 'answered';\n        this.answer = '';\n        alert('ÎãµÎ≥ÄÏù¥ Îì±Î°ùÎêòÏóàÏäµÎãàÎã§!');\n      } catch (error) {\n        console.error('ÎãµÎ≥Ä Îì±Î°ù Ïã§Ìå®:', error);\n      }\n    },\n    formatDate(dateStr) {\n      const date = new Date(dateStr);\n      return date.toLocaleDateString() + ' ' + date.toLocaleTimeString();\n    },\n  },\n};\n</script>\n\n<style scoped>\n.preserve-newlines {\n  white-space: pre-wrap;\n}\n\n.inquiry-detail {\n  max-width: 700px;\n  margin: 0 auto;\n}\n\ntextarea {\n  margin-top: 0.5rem;\n}\n\nbutton {\n  margin-top: 0.5rem;\n  padding: 0.5rem 1rem;\n}\n</style>"],"mappings":"AAwBA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,eAAe;EACrBC,KAAK,EAAE,CAAC,IAAI,CAAC;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,OAAO,EAAE,IAAI;MACbC,MAAM,EAAE,EAAE;MACVC,IAAI,EAAE;IACR,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,OAAOA,CAAA,EAAG;MACR,OAAO,IAAI,CAACF,IAAG,IAAK,IAAI,CAACA,IAAI,CAACG,MAAK,KAAM,OAAO;IAClD;EACF,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACd,MAAM,IAAI,CAACC,SAAS,CAAC,CAAC;IACtB,MAAM,IAAI,CAACC,YAAY,CAAC,CAAC;EAC3B,CAAC;EACDC,OAAO,EAAE;IACP,MAAMF,SAASA,CAAA,EAAG;MAChB,IAAI;QACF,MAAMG,GAAE,GAAI,MAAMd,KAAK,CAACe,GAAG,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,eAAe,mBAAmB,EAAE;UAC7EC,eAAe,EAAE;QACnB,CAAC,CAAC;QACF,IAAI,CAACb,IAAG,GAAIQ,GAAG,CAACX,IAAI,CAACG,IAAI;MAC3B,EAAE,OAAOc,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;MACxC;IACF,CAAC;IACD,MAAMR,YAAYA,CAAA,EAAG;MACnB,IAAI;QACF,MAAME,GAAE,GAAI,MAAMd,KAAK,CAACe,GAAG,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,eAAe,kBAAkB,IAAI,CAACI,EAAE,EAAE,EAAE;UACrFH,eAAe,EAAE;QACnB,CAAC,CAAC;QACF,IAAI,CAACf,OAAM,GAAIU,GAAG,CAACX,IAAI,CAACC,OAAO;MACjC,EAAE,OAAOgB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,aAAa,EAAEA,KAAK,CAAC;MACrC;IACF,CAAC;IACD,MAAMG,YAAYA,CAAA,EAAG;MACnB,IAAI;QACF,MAAMvB,KAAK,CAACwB,GAAG,CACb,GAAGR,OAAO,CAACC,GAAG,CAACC,eAAe,kBAAkB,IAAI,CAACI,EAAE,SAAS,EAChE;UAAEjB,MAAM,EAAE,IAAI,CAACA;QAAO,CAAC,EACvB;UAAEc,eAAe,EAAE;QAAK,CAC1B,CAAC;QACD,IAAI,CAACf,OAAO,CAACC,MAAK,GAAI,IAAI,CAACA,MAAM;QACjC,IAAI,CAACD,OAAO,CAACqB,MAAK,GAAI,UAAU;QAChC,IAAI,CAACpB,MAAK,GAAI,EAAE;QAChBqB,KAAK,CAAC,cAAc,CAAC;MACvB,EAAE,OAAON,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,WAAW,EAAEA,KAAK,CAAC;MACnC;IACF,CAAC;IACDO,UAAUA,CAACC,OAAO,EAAE;MAClB,MAAMC,IAAG,GAAI,IAAIC,IAAI,CAACF,OAAO,CAAC;MAC9B,OAAOC,IAAI,CAACE,kBAAkB,CAAC,IAAI,GAAE,GAAIF,IAAI,CAACG,kBAAkB,CAAC,CAAC;IACpE;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}