(function(){"use strict";var e={5764:function(e){e.exports="data:image/png;base64,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"},7190:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAAAXNSR0IArs4c6QAAB5xJREFUeF7tnX1W3DgQxDOcBLhIkpPt5mTLXoThJHhXfmieMLbVVV2SNab5hxdiW+r6dbU+PGNffsTPqRW4nDq6CO5HAD55EgTgAHxyBU4eXjg4AJ9cgZOHFw4OwCdX4OThhYMD8MkVOHl44eAAfHIFTh5eODgAf1Xg+fn57/TX19fX+Xf8jKsA7OAEd5qmv1JIl8vlT0AeF+7MCOleCTefF5ARBfsfawa8Bjcg9weGtmgCvAc3IKOS9z2+CtgCNyD3hYa0tgsYgXs05MfHx18PDw+/cj+mafpZCHH7e/G3l1Koy+Xyb/r3+/v7/Pe3t7dP/4+IOtKxcsC9Ztd5qZZn9I1EnSFP0/TnXqFLS/TCEdIlVCegljx5SW5PTr8Hl1cBp4iZUq1wci67jV1qgbp1zEty98igTYCPgMwmlYeW89whYZsBB2Qz/qFAQ4ADshlyOnAI0DDggAxBnkFfr9ff8FmiEyjAARlX/6g9expwQMYhH1G2XYAHhDyvUbP0eVdqbZMiLcFKRGkXrNj9Wtv5ooiundTTzW7AR0JOQqX2W2w65AS4XC7zve//3aeG3mUSJgF8BGSZnYwXSsBbwJ6m6XfLjRIZ4O8AOedCAVvi6pYlWwr4O0HOsFU7bq0gywE/PT39w45XyiDL24crk6dPtwIV+8ki0PI1sxSwB252hAey4OaEe+Ij0EAKWQZYENhtusNCFrnIvc0oGKNlkCWAlXC9ThZCdoP29IVN8uWiwA24BdzBILs+/+1xswKyC7AnQ43LT1pcdd+8YrNG8LZLA1YLuAecDbJBH11jI9sfNv6kKQX4o+yk5RD0k7cWmY/gsEGyom4FxvbDu25m24UBe+Dm7zGxorNBsu2NBvl6vcK84BOYsWQNDCs6C7m8e5T2fhc3E+AtR7YfHiczbUKAGSh7nWKuN48r4m81sjNdxlFlVWDiR2M3A2ZKs6UzTJAtIKdrojFa4qtNUpj4kcQyA0ZLMxI8E2RjyOkesKlsI2JvwUbjR7Q1AW7ZAc+Y1Apyuu7T09NUc5+y/VYGMgG2BvshCL1WRBPJu+O1BxAp1woXI0mV+21ptwoYzSzvJxRGgmztC1Iy95LK2h6S2LuAkSxWlis0UCRgS9ktj7FULxXg1C4ae83Fu4BB99KleU10sO3bJZRiI4LXhEYSy5JU1qTeBIy611ualwIgQS7PVUO29EUZv9LFm4BBB0ndiybXmjuUkHsDRipHbWhcBYwKrMxeZsNhq/ypIFscpdYAnVVvDRGrgC0BWccAZOzxrolbOdmihyqZyhgs7dY4rAK2lCRkLYZCRgKzXNsrvmW48raxFYeXxekdXMtwS4JYALco0UiibyXY3iTLtFWXBFIuEZRjsGp2bRFaDRidB0FjsHIWZ3HI8hg0OKQNtpTWIKsBW6pGEffmKqa20WF2MSucYuxBANeWFXvX2oOsrGJogu8l1y7gWtYuxVAGiUwuUMANIEv3AVTuneOsiYMIrXQxmly1OJRLqJW+yQCjcdeGhipgtEEVZLRdBrDKyTWRrX1DS7PlAS9VwKlziIuVs2q0XauQ4tn1T9VTdMDSnJ6hWf3yuAkw4SZJySLaZRnTH+RLrlN8Qx+Fa62UJsDosslT+paEerlY2Wc0y4hENhvIDJgp1dYsY5cmqJCW4xV9trSTjyHgmkpzvj4EmOmMQrCeLu7p5B56QoCZUq0QjBECcZFyCWVtl4zJXJopB+eTGEd5nUwKYtV79Thvn7caZ2OxzJq/rBAYBdgOegVj22VivDlA/DUZNgZWO7hEeyYHinKNLic8cNWQe8Od9fYIwHbYsgMz0sz6yMRknesag0vxPZA9z6dytEvnNCu2o6/wpEoyBi8v4giA3kFKfWC/9kkTdnx1ldDIDdddokuhnGOj6wFkvUF3cLIErhRwupgTcrqEK7CeoFtBZq+7VZVck6y1iwogu8p27lPxWMOtV9x9enj4CA+GUcOVO9i7hPoyQRCvQVvMzFkoyzGZvU5tPiF3sBryx/VcY3RNBG+fWTgZMnu+Ja5mgItZLvw8rZ2O314WqbgHu9YOMdudL8NCUt1P7jYGLxtqOPFp9mbQ3pAtTmSPaergslOsaGBgM/T8dtDy3KXjy+dm5fcOK966wjoZjNN8eDfARck2P8HGHMVgB44EuStg72RmMI673RkF8iGAszKKNfPI0EeAfCjg71C2j4Z8OODswIaz7cNNfiTkYQCfHfRRkIcDXNrtbK4+AvLQgEtXF28HNT0ktFFdPuwGBRvPXQBe2x372NBo9WbQ3OQNaH5avWLzpqeT7xLwWjbnnamVXal8+NL5t9fble8cTgcjr6tld+h6QT4NYLaEKc4bGXIAVhAmHiKam23t5AAsApwuM6KTA7AQ8IiQA7AY8GiQA3ADwCNBDsCNAI8COQA3BDwC5ADcGPDRkANwB8BHQg7AnQAfBTkAdwTMQvbsdgXgzoBRyB648x23A+KLJo3bml64AfjgVNvbu1bADcAHA94q1yq4AXgAwEvISrgBeBDAGXL6vfbRIE83Y5LlUe8Ozg3AdwDJ08UA7FHvDs4NwHcAydPFAOxR7w7ODcB3AMnTxQDsUe8Ozv0PkLUI4srDn2UAAAAASUVORK5CYII="},8249:function(e,t,s){var o=s(3751),a=s(641),i=s(33),n=s.p+"media/Duomate.5f9e9335.mp4";const r={id:"app"},l={key:0},c={key:0,class:"header"},d={class:"logo"},h={class:"nav-links"},u={key:0},m={key:1,class:"modal-overlay"},p={class:"modal-content"},k={class:"user-info-display"},g={key:0},v={key:1},L={key:2},f={key:3},w={class:"gaming-info"},y={class:"game-stats"},b={class:"game-tier"},C={class:"most-champions"},I={class:"champion-icons"},A=["src","alt"],P={key:1,class:"header"},E={class:"nav-links"},T={class:"main-content"},S={key:0,class:"placeholder"},X={class:"background-video"},D={class:"overlay-text"},R={key:1,class:"footer"};function U(e,t,s,o,U,B){const N=(0,a.g2)("router-link"),M=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",r,[B.showHeader?((0,a.uX)(),(0,a.CE)("header",l,[U.isLoggedIn?((0,a.uX)(),(0,a.CE)("div",c,[(0,a.Lk)("div",d,[t[5]||(t[5]=(0,a.Lk)("div",{class:"circle"},null,-1)),(0,a.Lk)("span",null,"ì•ˆë…•í•˜ì„¸ìš”, "+(0,i.v_)(U.userInfo.nickname)+"ë‹˜!",1)]),(0,a.Lk)("nav",h,[U.userInfo.nickname?((0,a.uX)(),(0,a.CE)("a",u,[t[6]||(t[6]=(0,a.Lk)("strong",null,"ë‹‰ë„¤ì„:",-1)),(0,a.eW)(" "+(0,i.v_)(U.userInfo.nickname),1)])):(0,a.Q3)("",!0),(0,a.Lk)("a",{onClick:t[0]||(t[0]=e=>U.mypageopen=!0)},"ë§ˆì´í˜ì´ì§€"),(0,a.bF)(N,{to:"/board"},{default:(0,a.k6)((()=>t[7]||(t[7]=[(0,a.eW)("ê²Œì‹œíŒ")]))),_:1}),(0,a.bF)(N,{to:"/patch-notes"},{default:(0,a.k6)((()=>t[8]||(t[8]=[(0,a.eW)("íŒ¨ì¹˜ ë…¸íŠ¸")]))),_:1}),1==U.mypageopen?((0,a.uX)(),(0,a.CE)("div",m,[(0,a.Lk)("div",p,[t[18]||(t[18]=(0,a.Lk)("div",{class:"profile-image"},null,-1)),(0,a.Lk)("div",k,[U.userInfo.nickname?((0,a.uX)(),(0,a.CE)("p",g,[t[9]||(t[9]=(0,a.Lk)("strong",null,"ë‹‰ë„¤ì„:",-1)),(0,a.eW)(" "+(0,i.v_)(U.userInfo.nickname),1)])):(0,a.Q3)("",!0),U.userInfo.email?((0,a.uX)(),(0,a.CE)("p",v,[t[10]||(t[10]=(0,a.Lk)("strong",null,"ì´ë©”ì¼:",-1)),(0,a.eW)(" "+(0,i.v_)(U.userInfo.email),1)])):(0,a.Q3)("",!0),U.userInfo.birthdate?((0,a.uX)(),(0,a.CE)("p",L,[t[11]||(t[11]=(0,a.Lk)("strong",null,"ìƒë…„ì›”ì¼:",-1)),(0,a.eW)(" "+(0,i.v_)(U.userInfo.birthdate),1)])):(0,a.Q3)("",!0),U.userInfo.gender?((0,a.uX)(),(0,a.CE)("p",f,[t[12]||(t[12]=(0,a.Lk)("strong",null,"ì„±ë³„:",-1)),(0,a.eW)(" "+(0,i.v_)(U.userInfo.gender),1)])):(0,a.Q3)("",!0)]),t[19]||(t[19]=(0,a.Lk)("button",{type:"button",class:"edit-button",href:"/mypage-edit"},"ë‚´ ì •ë³´ ìˆ˜ì •",-1)),(0,a.Lk)("div",w,[t[16]||(t[16]=(0,a.Lk)("h2",null,"Gaming Information",-1)),t[17]||(t[17]=(0,a.Lk)("p",null,"Your gaming details",-1)),(0,a.Lk)("div",y,[(0,a.Lk)("div",b,[t[13]||(t[13]=(0,a.Lk)("img",{src:"tier-icon.png",alt:"Game Tier"},null,-1)),t[14]||(t[14]=(0,a.Lk)("p",null,"Game Tier",-1)),(0,a.Lk)("p",null,(0,i.v_)(U.userInfo.gameTier),1)]),(0,a.Lk)("div",C,[t[15]||(t[15]=(0,a.Lk)("p",null,"Most Champion Top 3",-1)),(0,a.Lk)("div",I,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(U.userInfo.topChampions,((e,t)=>((0,a.uX)(),(0,a.CE)("img",{key:t,src:e.image,alt:e.name},null,8,A)))),128))])])])]),(0,a.Lk)("button",{class:"delete-button",onClick:t[1]||(t[1]=e=>(B.withdraw(),U.mypageopen=!1))},"íšŒì›íƒˆí‡´"),(0,a.Lk)("button",{class:"close-button",onClick:t[2]||(t[2]=e=>U.mypageopen=!1)},"ë‹«ê¸°")])])):(0,a.Q3)("",!0),t[20]||(t[20]=(0,a.Lk)("a",{href:"/mypage-edit"},"ë‚´ ì •ë³´ ë³€ê²½",-1)),(0,a.Lk)("a",{onClick:t[3]||(t[3]=e=>B.logout())},"ë¡œê·¸ì•„ì›ƒ")])])):((0,a.uX)(),(0,a.CE)("div",P,[t[24]||(t[24]=(0,a.Lk)("div",{class:"logo"},[(0,a.Lk)("div",{class:"circle"}),(0,a.Lk)("span",null,"Welcome")],-1)),(0,a.Lk)("nav",E,[t[23]||(t[23]=(0,a.Lk)("a",{href:"#"},"ê³µì§€",-1)),(0,a.bF)(N,{to:"/signup"},{default:(0,a.k6)((()=>t[21]||(t[21]=[(0,a.eW)("íšŒì›ê°€ì…")]))),_:1}),(0,a.bF)(N,{to:"/login"},{default:(0,a.k6)((()=>t[22]||(t[22]=[(0,a.eW)("ë¡œê·¸ì¸")]))),_:1})])]))])):(0,a.Q3)("",!0),(0,a.Lk)("main",T,[(0,a.bF)(M),B.showPlaceholder?((0,a.uX)(),(0,a.CE)("div",S,[(0,a.Lk)("div",X,[t[27]||(t[27]=(0,a.Lk)("video",{autoplay:"",loop:"",muted:""},[(0,a.Lk)("source",{src:n,type:"video/mp4"}),(0,a.Lk)("strong",null,"Your browser does not support the video tag.")],-1)),(0,a.Lk)("div",D,[t[25]||(t[25]=(0,a.Lk)("h1",null,"Find your Duo Mate!",-1)),t[26]||(t[26]=(0,a.Lk)("p",null,"Connect with gamers and build lasting friendships in our real-time chat platform designed for gamers!!!! ",-1)),(0,a.Lk)("button",{class:"match-button",onClick:t[4]||(t[4]=(...e)=>B.enterMatchQueue&&B.enterMatchQueue(...e))},"ENTER MATCH QUEUE")])])])):(0,a.Q3)("",!0)]),B.showFooter?((0,a.uX)(),(0,a.CE)("footer",R,t[28]||(t[28]=[(0,a.Fv)('<nav class="footer-links" data-v-e22052b8><a href="#" data-v-e22052b8>Contact Us</a><a href="#" data-v-e22052b8>About Us</a><a href="#" data-v-e22052b8>Terms &amp; Conditions</a><a href="#" data-v-e22052b8>Privacy Policy</a></nav>',1)]))):(0,a.Q3)("",!0)])}s(4114);var B={name:"App",data(){return{mypageopen:!1,isLoggedIn:!1,userInfo:{}}},computed:{isAuthPage(){return["/login","/signup","/find-password","/find-id","/mypage-edit","/matchqueue","/chatroom","/board","/patch-notes"].includes(this.$route.path)},showHeader(){return!this.isAuthPage},showFooter(){return!this.isAuthPage},showPlaceholder(){return!this.isAuthPage},videoElement(){return this.$refs.videoElement}},methods:{enterMatchQueue(){this.$router.push("/matchqueue")},playVideo(){this.videoElement.play()},pauseVideo(){this.videoElement.pause()},async checkLoginStatus(){try{const e=await fetch("http://localhost:3000/auth/check-login",{method:"GET",credentials:"include"});if(e.ok){const t=await e.json();this.isLoggedIn=t.loggedIn,t.loggedIn&&(this.userInfo=t.user||{})}else this.resetUserData()}catch(e){console.error("Error checking login status:",e),this.resetUserData()}},resetUserData(){this.isLoggedIn=!1,this.userInfo={}},async logout(){try{const e=await fetch("http://localhost:3000/logout",{method:"GET",credentials:"include"});e.ok&&(this.isLoggedIn=!1,this.nickname="",this.$router.push("/"))}catch(e){console.error("Error logging out:",e)}},async withdraw(){const e=confirm("ì •ë§ë¡œ íšŒì›íƒˆí‡´ë¥¼ ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?");if(e)try{const e=await fetch("http://localhost:3000/withdraw",{method:"GET",credentials:"include"});e.ok?(alert("íšŒì›íƒˆí‡´ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤."),this.resetUserData(),this.$router.push("/")):alert("íšŒì›íƒˆí‡´ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.")}catch(t){console.error("Error withdrawing: ",t),alert("íšŒì›íƒˆí‡´ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.")}}},mounted(){this.checkLoginStatus()}},N=s(6262);const M=(0,N.A)(B,[["render",U],["__scopeId","data-v-e22052b8"]]);var V=M,F=s(5220);const j={id:"app"},Q={class:"signup-container"},O={class:"form-container"},q={class:"form-group"},W={class:"form-group password-field"},x={class:"password-container"},J=["type"],Y=["src"],H={class:"form-group password-field"},Z={class:"password-container"},K=["type"],z=["src"],G={class:"form-group"},_={class:"form-group"};function $(e,t,s,n,r,l){return(0,a.uX)(),(0,a.CE)("div",j,[(0,a.Lk)("div",Q,[t[17]||(t[17]=(0,a.Fv)('<header class="header" data-v-e6d66740><div class="logo" data-v-e6d66740><div class="circle" data-v-e6d66740></div><span data-v-e6d66740>íšŒì›ê°€ì…</span></div><nav data-v-e6d66740><a href="/" data-v-e6d66740>í™ˆ í™”ë©´</a><a href="/login" data-v-e6d66740>ë¡œê·¸ì¸</a><a href="/contact" data-v-e6d66740>Contact</a></nav></header>',1)),(0,a.Lk)("main",null,[(0,a.Lk)("div",O,[t[15]||(t[15]=(0,a.Lk)("h2",null,"ê³„ì • ìƒì„±",-1)),t[16]||(t[16]=(0,a.Lk)("p",null,"ê³„ì • ìƒì„±ì— í•„ìš”í•œ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”. ",-1)),(0,a.Lk)("form",{onSubmit:t[8]||(t[8]=(0,o.D$)(((...e)=>l.handleSubmit&&l.handleSubmit(...e)),["prevent"]))},[(0,a.Lk)("div",q,[t[9]||(t[9]=(0,a.Lk)("label",{for:"userid"},"ì•„ì´ë””",-1)),(0,a.bo)((0,a.Lk)("input",{id:"userid",type:"text",placeholder:"ì•„ì´ë””ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”","onUpdate:modelValue":t[0]||(t[0]=e=>r.form.userid=e),onInput:t[1]||(t[1]=(...e)=>l.checkDuplicateUserId&&l.checkDuplicateUserId(...e)),required:""},null,544),[[o.Jo,r.form.userid]]),(0,a.Lk)("div",{style:(0,i.Tr)({color:r.duplicateCheck.color})},(0,i.v_)(r.duplicateCheck.message),5)]),(0,a.Lk)("div",W,[t[10]||(t[10]=(0,a.Lk)("label",{for:"password"},"ë¹„ë°€ë²ˆí˜¸",-1)),(0,a.Lk)("div",x,[(0,a.bo)((0,a.Lk)("input",{id:"password",type:r.passwordVisible?"text":"password",placeholder:"ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”","onUpdate:modelValue":t[2]||(t[2]=e=>r.form.password=e),required:""},null,8,J),[[o.hp,r.form.password]]),(0,a.Lk)("img",{src:r.passwordVisible?r.openIcon:r.closeIcon,alt:"Show Password",class:"toggle-password",onClick:t[3]||(t[3]=e=>l.togglePasswordVisibility("password"))},null,8,Y)])]),(0,a.Lk)("div",H,[t[11]||(t[11]=(0,a.Lk)("label",{for:"passwordcheck"},"ë¹„ë°€ë²ˆí˜¸ í™•ì¸",-1)),(0,a.Lk)("div",Z,[(0,a.bo)((0,a.Lk)("input",{id:"passwordcheck",type:r.passwordCheckVisible?"text":"password",placeholder:"ë¹„ë°€ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”","onUpdate:modelValue":t[4]||(t[4]=e=>r.form.passwordcheck=e),required:""},null,8,K),[[o.hp,r.form.passwordcheck]]),(0,a.Lk)("img",{src:r.passwordCheckVisible?r.openIcon:r.closeIcon,alt:"Show Password",class:"toggle-password",onClick:t[5]||(t[5]=e=>l.togglePasswordVisibility("passwordcheck"))},null,8,z)])]),(0,a.Lk)("div",G,[t[12]||(t[12]=(0,a.Lk)("label",{for:"email"},"ì´ë©”ì¼",-1)),(0,a.bo)((0,a.Lk)("input",{id:"email",type:"email","onUpdate:modelValue":t[6]||(t[6]=e=>r.form.email=e),placeholder:"ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”(ë¹„ë°€ë²ˆí˜¸ ë˜ëŠ” ì•„ì´ë”” ì°¾ê¸°ì— ì‚¬ìš©)"},null,512),[[o.Jo,r.form.email]])]),(0,a.Lk)("div",_,[t[13]||(t[13]=(0,a.Lk)("label",{for:"nickname"},"ë‹‰ë„¤ì„",-1)),(0,a.bo)((0,a.Lk)("input",{id:"nickname",type:"text",placeholder:"ë‹‰ë„¤ì„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”","onUpdate:modelValue":t[7]||(t[7]=e=>r.form.nickname=e),required:""},null,512),[[o.Jo,r.form.nickname]])]),t[14]||(t[14]=(0,a.Lk)("div",{class:"button-group"},[(0,a.Lk)("button",{type:"button",class:"cancel-button"},"Cancel"),(0,a.Lk)("button",{type:"submit",class:"signup-button"},"Sign Up")],-1))],32)])])])])}var ee={data(){return{form:{userid:"",password:"",passwordcheck:"",email:"",nickname:"",birthdate:"",gender:"other"},duplicateCheck:{message:"",color:""},passwordVisible:!1,passwordCheckVisible:!1,openIcon:s(5764),closeIcon:s(7190)}},methods:{togglePasswordVisibility(e){"password"===e?this.passwordVisible=!this.passwordVisible:"passwordcheck"===e&&(this.passwordCheckVisible=!this.passwordCheckVisible)},async checkDuplicateUserId(){const e=this.form.userid;if(e)try{const t=await fetch("http://localhost:3000/check-duplicate",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({userid:e})}),s=await t.json();t.ok?(this.duplicateCheck.message=s.message,this.duplicateCheck.color="green"):(this.duplicateCheck.message=s.message,this.duplicateCheck.color="red")}catch(t){console.error("Error checking duplicate:",t),this.duplicateCheck.message="ì¤‘ë³µ í™•ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.",this.duplicateCheck.color="red"}else this.duplicateCheck.message=""},async handleSubmit(){const{userid:e,password:t,passwordcheck:s,nickname:o,email:a}=this.form;if(e&&t&&s&&o&&a)if(this.form.password===this.form.passwordcheck)try{const e=await fetch("http://localhost:3000/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.form)}),t=await e.json();e.ok?(alert(t.message),window.location.href="/"):alert(t.message)}catch(i){console.error("Signup error:",i),alert("íšŒì›ê°€ì… ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")}else alert("ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");else alert("ëª¨ë“  í•­ëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.")}}};const te=(0,N.A)(ee,[["render",$],["__scopeId","data-v-e6d66740"]]);var se=te;const oe={id:"app"},ae={class:"login-container"},ie={class:"header"},ne={class:"nav-links"},re={class:"login-main"},le={class:"login-box"},ce={class:"input-group"},de={class:"input-group"},he={key:0,class:"error-message"},ue={class:"actions-link"},me={key:0,class:"modal-overlay"},pe={class:"modal-content"},ke=["disabled"],ge={key:1,class:"modal-overlay"},ve={class:"modal-content"},Le=["disabled"];function fe(e,t,s,n,r,l){const c=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",oe,[(0,a.Lk)("div",ae,[(0,a.Lk)("header",ie,[t[13]||(t[13]=(0,a.Lk)("div",{class:"logo"},[(0,a.Lk)("div",{class:"circle"}),(0,a.Lk)("span",null,"ë¡œê·¸ì¸")],-1)),(0,a.Lk)("nav",ne,[(0,a.bF)(c,{to:"/"},{default:(0,a.k6)((()=>t[11]||(t[11]=[(0,a.eW)("í™ˆ")]))),_:1}),(0,a.bF)(c,{to:"/signup"},{default:(0,a.k6)((()=>t[12]||(t[12]=[(0,a.eW)("íšŒì›ê°€ì…")]))),_:1})])]),(0,a.Lk)("main",re,[(0,a.Lk)("div",le,[t[22]||(t[22]=(0,a.Lk)("h1",{class:"login-title"},"ë¡œê·¸ì¸ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”",-1)),(0,a.Lk)("form",{onSubmit:t[2]||(t[2]=(0,o.D$)(((...e)=>l.handleLogin&&l.handleLogin(...e)),["prevent"]))},[(0,a.Lk)("div",ce,[(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>r.form.userid=e),placeholder:"ì•„ì´ë””",required:""},null,512),[[o.Jo,r.form.userid]])]),(0,a.Lk)("div",de,[(0,a.bo)((0,a.Lk)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>r.form.password=e),placeholder:"ë¹„ë°€ë²ˆí˜¸",required:""},null,512),[[o.Jo,r.form.password]])]),t[14]||(t[14]=(0,a.Lk)("button",{type:"submit",class:"login-button"},"ë¡œê·¸ì¸",-1)),r.errorMessage?((0,a.uX)(),(0,a.CE)("p",he,(0,i.v_)(r.errorMessage),1)):(0,a.Q3)("",!0)],32),(0,a.Lk)("div",ue,[(0,a.Lk)("a",{onClick:t[3]||(t[3]=e=>r.rqid=!0)},"ì•„ì´ë”” ì°¾ê¸°"),1==r.rqid?((0,a.uX)(),(0,a.CE)("div",me,[(0,a.Lk)("div",pe,[t[16]||(t[16]=(0,a.Lk)("h1",null,"ì•„ì´ë”” ì°¾ê¸°",-1)),(0,a.Lk)("form",{onSubmit:t[6]||(t[6]=(0,o.D$)(((...e)=>l.requestUserId&&l.requestUserId(...e)),["prevent"]))},[(0,a.Lk)("div",null,[t[15]||(t[15]=(0,a.Lk)("label",{for:"email"},"ì´ë©”ì¼: ",-1)),(0,a.bo)((0,a.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[4]||(t[4]=t=>e.email=t),placeholder:"ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”",required:""},null,512),[[o.Jo,e.email]])]),(0,a.Lk)("button",{class:"submit-button",type:"submit",disabled:r.isButtonDisabledId},(0,i.v_)(r.isButtonDisabledId?`${r.timerId}ì´ˆ í›„ ë‹¤ì‹œ ìš”ì²­`:"ì•„ì´ë”” ë³´ë‚´ê¸°"),9,ke),(0,a.Lk)("button",{class:"cancel-button",onClick:t[5]||(t[5]=e=>r.rqid=!1)},"ë‹«ê¸°")],32),t[17]||(t[17]=(0,a.Lk)("br",null,null,-1)),e.message?((0,a.uX)(),(0,a.CE)("p",{key:0,class:(0,i.C4)(e.success?"success":"error")},(0,i.v_)(e.message),3)):(0,a.Q3)("",!0)])])):(0,a.Q3)("",!0),(0,a.Lk)("a",{onClick:t[7]||(t[7]=e=>r.rqpassword=!0)},"ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •"),1==r.rqpassword?((0,a.uX)(),(0,a.CE)("div",ge,[(0,a.Lk)("div",ve,[t[19]||(t[19]=(0,a.Lk)("h1",null,"ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ìš”ì²­",-1)),(0,a.Lk)("form",{onSubmit:t[10]||(t[10]=(0,o.D$)(((...e)=>l.requestResetLink&&l.requestResetLink(...e)),["prevent"]))},[(0,a.Lk)("div",null,[t[18]||(t[18]=(0,a.Lk)("label",{for:"email"},"ì´ë©”ì¼: ",-1)),(0,a.bo)((0,a.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[8]||(t[8]=t=>e.email=t),placeholder:"ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”",required:""},null,512),[[o.Jo,e.email]])]),(0,a.Lk)("button",{class:"submit-button",type:"submit",disabled:r.isButtonDisabledPassword},(0,i.v_)(r.isButtonDisabledPassword?`${r.timerPassword}ì´ˆ í›„ ë‹¤ì‹œ ìš”ì²­`:"ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ë§í¬ ì „ì†¡"),9,Le),(0,a.Lk)("button",{class:"cancel-button",onClick:t[9]||(t[9]=e=>r.rqpassword=!1)},"ë‹«ê¸°")],32),t[20]||(t[20]=(0,a.Lk)("br",null,null,-1)),t[21]||(t[21]=(0,a.eW)()),e.message?((0,a.uX)(),(0,a.CE)("p",{key:0,class:(0,i.C4)(e.success?"success":"error")},(0,i.v_)(e.message),3)):(0,a.Q3)("",!0)])])):(0,a.Q3)("",!0)])])])])])}var we={data(){return{form:{userid:"",password:""},errorMessage:"",rqpassword:!1,rqid:!1,isButtonDisabledId:!1,isButtonDisabledPassword:!1,timerId:0,timerPassword:0}},methods:{async handleLogin(){try{const e=await fetch("http://localhost:3000/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(this.form)});if(e.ok)window.location.href="/";else{const t=await e.json();this.errorMessage=t.message}}catch(e){console.error("Login error:",e),this.errorMessage="ë¡œê·¸ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”."}},async requestUserId(){if(this.isButtonDisabledId)return;this.isButtonDisabledId=!0,this.timerId=180;const e=setInterval((()=>{this.timerId-=1,this.timerId<=0&&(clearInterval(e),this.isButtonDisabledId=!1)}),1e3);try{const e=await fetch("http://localhost:3000/request-userid",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.email})}),t=await e.json();t.success?(this.success=!0,this.message="ì•„ì´ë””ê°€ ì´ë©”ì¼ë¡œ ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤."):(this.success=!1,this.message=t.message)}catch(t){console.error("Error requesting user ID:",t),this.success=!1,this.message="ì•„ì´ë”” ìš”ì²­ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤."}},async requestResetLink(){if(this.isButtonDisabledPassword)return;this.isButtonDisabledPassword=!0,this.timerPassword=180;const e=setInterval((()=>{this.timerPassword-=1,this.timerPassword<=0&&(clearInterval(e),this.isButtonDisabledPassword=!1)}),1e3);try{const e=await fetch("http://localhost:3000/request-password-reset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.email})}),t=await e.json();this.success=t.success,this.message=t.message}catch(t){console.error("Error requesting password reset:",t),this.success=!1,this.message="ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ìš”ì²­ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤."}}}};const ye=(0,N.A)(we,[["render",fe],["__scopeId","data-v-7e382d12"]]);var be=ye;const Ce={class:"request-password-reset"};function Ie(e,t,s,n,r,l){return(0,a.uX)(),(0,a.CE)("div",Ce,[t[4]||(t[4]=(0,a.Lk)("h1",null,"ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ìš”ì²­",-1)),(0,a.Lk)("form",{onSubmit:t[1]||(t[1]=(0,o.D$)(((...e)=>l.requestResetLink&&l.requestResetLink(...e)),["prevent"]))},[(0,a.Lk)("div",null,[t[2]||(t[2]=(0,a.Lk)("label",{for:"email"},"ì´ë©”ì¼:",-1)),(0,a.bo)((0,a.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>r.email=e),placeholder:"ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”",required:""},null,512),[[o.Jo,r.email]])]),t[3]||(t[3]=(0,a.Lk)("button",{type:"submit"},"ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ë§í¬ ë³´ë‚´ê¸°",-1))],32),r.message?((0,a.uX)(),(0,a.CE)("p",{key:0,class:(0,i.C4)(r.success?"success":"error")},(0,i.v_)(r.message),3)):(0,a.Q3)("",!0)])}var Ae={data(){return{email:"",message:"",success:!1}},methods:{async requestResetLink(){try{const e=await fetch("http://localhost:3000/request-password-reset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.email})}),t=await e.json();this.success=t.success,this.message=t.message}catch(e){console.error("Error requesting password reset:",e),this.success=!1,this.message="ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ìš”ì²­ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤."}}}};const Pe=(0,N.A)(Ae,[["render",Ie],["__scopeId","data-v-2dad34e3"]]);var Ee=Pe;const Te={class:"reset-password"};function Se(e,t,s,n,r,l){return(0,a.uX)(),(0,a.CE)("div",Te,[t[6]||(t[6]=(0,a.Lk)("h1",null,"ë¹„ë°€ë²ˆí˜¸ ë³€ê²½",-1)),(0,a.Lk)("form",{onSubmit:t[2]||(t[2]=(0,o.D$)(((...e)=>l.resetPassword&&l.resetPassword(...e)),["prevent"]))},[(0,a.Lk)("div",null,[t[3]||(t[3]=(0,a.Lk)("label",{for:"newPassword"},"ìƒˆ ë¹„ë°€ë²ˆí˜¸:",-1)),(0,a.bo)((0,a.Lk)("input",{type:"password",id:"newPassword","onUpdate:modelValue":t[0]||(t[0]=e=>r.newPassword=e),placeholder:"ìƒˆ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”",required:""},null,512),[[o.Jo,r.newPassword]])]),(0,a.Lk)("div",null,[t[4]||(t[4]=(0,a.Lk)("label",{for:"confirmPassword"},"ë¹„ë°€ë²ˆí˜¸ í™•ì¸:",-1)),(0,a.bo)((0,a.Lk)("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":t[1]||(t[1]=e=>r.confirmPassword=e),placeholder:"ë¹„ë°€ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ ì…ë ¥í•˜ì„¸ìš”",required:""},null,512),[[o.Jo,r.confirmPassword]])]),t[5]||(t[5]=(0,a.Lk)("button",{type:"submit"},"ë¹„ë°€ë²ˆí˜¸ ë³€ê²½",-1))],32),r.message?((0,a.uX)(),(0,a.CE)("p",{key:0,class:(0,i.C4)(r.success?"success":"error")},(0,i.v_)(r.message),3)):(0,a.Q3)("",!0)])}s(4603),s(7566),s(8721);var Xe={data(){return{newPassword:"",confirmPassword:"",message:"",success:!1}},methods:{async resetPassword(){const e=new URLSearchParams(window.location.search).get("token");if(!e)return this.success=!1,void(this.message="ìœ íš¨í•˜ì§€ ì•Šì€ ìš”ì²­ì…ë‹ˆë‹¤.");if(this.newPassword!==this.confirmPassword)return this.success=!1,void(this.message="ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");try{const t=await fetch("http://localhost:3000/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,newPassword:this.newPassword})}),s=await t.json();this.success=s.success,this.message=s.message}catch(t){console.error("Error resetting password:",t),this.success=!1,this.message="ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤."}}}};const De=(0,N.A)(Xe,[["render",Se],["__scopeId","data-v-e29f8f3a"]]);var Re=De;const Ue={id:"app"},Be={class:"find-password-page"},Ne={class:"main-content"},Me={class:"form"},Ve={class:"form-group"},Fe={class:"form-group"};function je(e,t,s,n,r,l){return(0,a.uX)(),(0,a.CE)("div",Ue,[(0,a.Lk)("div",Be,[t[6]||(t[6]=(0,a.Fv)('<header class="header" data-v-52acc9e6><div class="logo" data-v-52acc9e6><div class="circle" data-v-52acc9e6></div> ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°</div><nav class="nav-links" data-v-52acc9e6><a href="/" data-v-52acc9e6>í™ˆ í™”ë©´</a><a href="/login" data-v-52acc9e6>ë¡œê·¸ì¸</a><a href="/contact" data-v-52acc9e6>Contact</a></nav></header>',1)),(0,a.Lk)("main",Ne,[t[5]||(t[5]=(0,a.Lk)("h1",{class:"title"},"ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •",-1)),(0,a.Lk)("form",Me,[(0,a.Lk)("div",Ve,[t[2]||(t[2]=(0,a.Lk)("label",{for:"newPassword",class:"form-label"},"ìƒˆ ë¹„ë°€ë²ˆí˜¸",-1)),(0,a.bo)((0,a.Lk)("input",{type:"password",id:"newPassword",class:"form-input","onUpdate:modelValue":t[0]||(t[0]=e=>r.newPassword=e),placeholder:"ìƒˆ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”"},null,512),[[o.Jo,r.newPassword]])]),(0,a.Lk)("div",Fe,[t[3]||(t[3]=(0,a.Lk)("label",{for:"confirmPassword",class:"form-label"},"ìƒˆ ë¹„ë°€ë²ˆí˜¸ í™•ì¸",-1)),(0,a.bo)((0,a.Lk)("input",{type:"password",id:"confirmPassword",class:"form-input","onUpdate:modelValue":t[1]||(t[1]=e=>r.confirmPassword=e),placeholder:"ìƒˆ ë¹„ë°€ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”"},null,512),[[o.Jo,r.confirmPassword]])]),r.message?((0,a.uX)(),(0,a.CE)("p",{key:0,class:(0,i.C4)(r.success?"success":"error")},(0,i.v_)(r.message),3)):(0,a.Q3)("",!0),t[4]||(t[4]=(0,a.Lk)("div",{class:"button-group"},[(0,a.Lk)("button",{type:"button",class:"cancel-button"},"ì·¨ì†Œ"),(0,a.Lk)("button",{type:"submit",class:"submit-button"},"í™•ì¸")],-1))])])])])}var Qe={data(){return{newPassword:"",confirmPassword:"",message:"",success:!1}},methods:{async resetPassword(){const e=new URLSearchParams(window.location.search).get("token");if(!e)return this.success=!1,void(this.message="ìœ íš¨í•˜ì§€ ì•Šì€ ìš”ì²­ì…ë‹ˆë‹¤.");if(this.newPassword!==this.confirmPassword)return this.success=!1,void(this.message="ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");try{const t=await fetch("http://localhost:3000/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,newPassword:this.newPassword})}),s=await t.json();this.success=s.success,this.message=s.message}catch(t){console.error("Error resetting password:",t),this.success=!1,this.message="ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤."}}}};const Oe=(0,N.A)(Qe,[["render",je],["__scopeId","data-v-52acc9e6"]]);var qe=Oe;const We={id:"app"};function xe(e,t,s,o,i,n){return(0,a.uX)(),(0,a.CE)("div",We,t[0]||(t[0]=[(0,a.Fv)('<div class="find-id-page" data-v-022ca50a><header class="header" data-v-022ca50a><div class="logo" data-v-022ca50a><div class="circle" data-v-022ca50a></div> ì•„ì´ë”” ì°¾ê¸° </div><nav class="nav-links" data-v-022ca50a><a href="/" data-v-022ca50a>í™ˆ í™”ë©´</a><a href="/login" data-v-022ca50a>ë¡œê·¸ì¸</a><a href="/contact" data-v-022ca50a>Contact</a></nav></header><main class="main-content" data-v-022ca50a><h1 class="title" data-v-022ca50a>ì•„ì´ë”” ì°¾ê¸°</h1><form class="form" data-v-022ca50a><div class="form-group" data-v-022ca50a><label for="email" class="form-label" data-v-022ca50a>ì´ë©”ì¼</label><input type="email" id="email" class="form-input" placeholder="ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”" data-v-022ca50a></div><div class="button-group" data-v-022ca50a><button type="button" class="cancel-button" data-v-022ca50a>ì·¨ì†Œ</button><button type="submit" class="submit-button" data-v-022ca50a>ì¸ì¦ë©”ì¼ ë°œì†¡</button></div></form></main></div>',1)]))}var Je={name:"FindId"};const Ye=(0,N.A)(Je,[["render",xe],["__scopeId","data-v-022ca50a"]]);var He=Ye;const Ze={id:"app"},Ke={class:"mypage-edit"},ze={class:"profile-section"},Ge={class:"profile-header"},_e={class:"profile-picture"},$e=["src"],et={class:"profile-info"},tt={class:"form-section"},st={class:"form-container"},ot=["placeholder"],at=["placeholder"],it={class:"gaming-info"},nt={key:0},rt={key:1},lt={class:"gaming-details"},ct={class:"detail-item"},dt={class:"detail-item"},ht={class:"champions-container"},ut={class:"champion-list"},mt=["src"],pt={key:0,class:"modal"},kt={class:"modal-content"};function gt(e,t,s,n,r,l){return(0,a.uX)(),(0,a.CE)("div",Ze,[(0,a.Lk)("div",Ke,[t[33]||(t[33]=(0,a.Fv)('<header class="header" data-v-1da15b88><div class="logo" data-v-1da15b88><div class="circle" data-v-1da15b88></div> ë‚´ ì •ë³´ ë³€ê²½</div><nav class="nav-links" data-v-1da15b88><a href="/" class="nav-links" data-v-1da15b88>í™ˆ</a><a href="#" class="nav-links" data-v-1da15b88>ê³µì§€</a><a href="#" class="nav-links" data-v-1da15b88>ê²Œì‹œíŒ</a></nav></header>',1)),(0,a.Lk)("section",ze,[(0,a.Lk)("div",Ge,[(0,a.Lk)("div",_e,[r.riotInfo.profileIconId?((0,a.uX)(),(0,a.CE)("img",{key:0,src:`https://ddragon.leagueoflegends.com/cdn/14.3.1/img/profileicon/${r.riotInfo.profileIconId}.png`,alt:"Summoner Icon"},null,8,$e)):(0,a.Q3)("",!0)]),(0,a.Lk)("input",{type:"file",id:"file-upload",accept:"image/*",ref:"fileInput",onChange:t[0]||(t[0]=(...t)=>e.handleFileChange&&e.handleFileChange(...t)),style:{display:"none"}},null,544),(0,a.Lk)("div",et,[(0,a.Lk)("h2",null,(0,i.v_)(r.userInfo.nickname)+" ë‹˜",1)])])]),(0,a.Lk)("section",tt,[(0,a.Lk)("div",st,[t[17]||(t[17]=(0,a.Lk)("h2",null,"í”„ë¡œí•„ í¸ì§‘",-1)),t[18]||(t[18]=(0,a.Lk)("p",null,"Update your personal information",-1)),t[19]||(t[19]=(0,a.Lk)("br",null,null,-1)),(0,a.Lk)("form",{onSubmit:t[5]||(t[5]=(0,o.D$)(((...e)=>l.updateUserProfile&&l.updateUserProfile(...e)),["prevent"]))},[t[12]||(t[12]=(0,a.Lk)("label",{for:"birthdate"},"ë‹‰ë„¤ì„",-1)),(0,a.bo)((0,a.Lk)("input",{id:"nickname",type:"text",placeholder:r.userInfo.nickname||"ë‹‰ë„¤ì„ì„ ì…ë ¥í•˜ì„¸ìš”","onUpdate:modelValue":t[1]||(t[1]=e=>r.userInfo.nickname=e)},null,8,ot),[[o.Jo,r.userInfo.nickname]]),t[13]||(t[13]=(0,a.Lk)("label",{for:"birthdate"},"ì´ë©”ì¼",-1)),(0,a.bo)((0,a.Lk)("input",{type:"email",placeholder:r.userInfo.email||"ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”","onUpdate:modelValue":t[2]||(t[2]=e=>r.userInfo.email=e)},null,8,at),[[o.Jo,r.userInfo.email]]),t[14]||(t[14]=(0,a.Lk)("label",{for:"birthdate"},"ì„±ë³„",-1)),(0,a.bo)((0,a.Lk)("select",{id:"gender","onUpdate:modelValue":t[3]||(t[3]=e=>r.userInfo.gender=e)},t[11]||(t[11]=[(0,a.Lk)("option",{value:"",disabled:""},"ì„±ë³„ì„ ì„ íƒí•˜ì„¸ìš”",-1),(0,a.Lk)("option",{value:"male"},"ë‚¨ì„±",-1),(0,a.Lk)("option",{value:"female"},"ì—¬ì„±",-1),(0,a.Lk)("option",{value:"other"},"ê¸°íƒ€",-1)]),512),[[o.u1,r.userInfo.gender]]),t[15]||(t[15]=(0,a.Lk)("label",{for:"birthdate"},"ìƒë…„ì›”ì¼",-1)),(0,a.bo)((0,a.Lk)("input",{id:"birthdate",type:"date","onUpdate:modelValue":t[4]||(t[4]=e=>r.userInfo.birthdate=e)},null,512),[[o.Jo,r.userInfo.birthdate]]),t[16]||(t[16]=(0,a.Lk)("button",{type:"submit",class:"submit-btn"},"ì €ì¥",-1))],32)])]),(0,a.Lk)("section",it,[t[25]||(t[25]=(0,a.Lk)("h2",null,"Gaming Information",-1)),t[26]||(t[26]=(0,a.Lk)("p",null,"Your gaming details",-1)),t[27]||(t[27]=(0,a.Lk)("br",null,null,-1)),r.riotInfo.summonerName?((0,a.uX)(),(0,a.CE)("p",nt,(0,i.v_)(r.summonerName)+"ë‹˜",1)):((0,a.uX)(),(0,a.CE)("p",rt,"ì—°ë™ì´ í•„ìš”í•©ë‹ˆë‹¤.")),(0,a.Lk)("div",lt,[(0,a.Lk)("div",ct,[t[20]||(t[20]=(0,a.Lk)("img",{src:"tier-icon.png",alt:"Tier Icon"},null,-1)),t[21]||(t[21]=(0,a.Lk)("p",null,"Game Tier",-1)),(0,a.Lk)("h3",null,(0,i.v_)(r.riotInfo.summonerRank.tier||"ì •ë³´ ì—†ìŒ"),1)]),(0,a.Lk)("div",dt,[t[22]||(t[22]=(0,a.Lk)("img",{src:"level-icon.png",alt:"Level Icon"},null,-1)),t[23]||(t[23]=(0,a.Lk)("p",null,"In-game Level",-1)),(0,a.Lk)("h3",null,(0,i.v_)(r.riotInfo.summonerInfo.summonerLevel||"ì •ë³´ ì—†ìŒ"),1)])]),(0,a.Lk)("div",ht,[t[24]||(t[24]=(0,a.Lk)("h2",null,"Most Played Champions",-1)),(0,a.Lk)("div",ut,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.riotInfo.top5Champions,((e,t)=>((0,a.uX)(),(0,a.CE)("div",{class:"champion-item",key:t},[(0,a.Lk)("img",{src:`https://ddragon.leagueoflegends.com/cdn/14.3.1/img/champion/${e}.png`,alt:"Champion Image"},null,8,mt),(0,a.Lk)("p",null,(0,i.v_)(e),1)])))),128))])]),t[28]||(t[28]=(0,a.Lk)("br",null,null,-1)),t[29]||(t[29]=(0,a.Lk)("br",null,null,-1)),(0,a.Lk)("button",{class:"riot-btn",onClick:t[6]||(t[6]=e=>r.showRiotModal=!0)},"Riot ì—°ë™")]),1==r.showRiotModal?((0,a.uX)(),(0,a.CE)("div",pt,[(0,a.Lk)("div",kt,[t[30]||(t[30]=(0,a.Lk)("h2",null,"Riot ì—°ë™",-1)),t[31]||(t[31]=(0,a.Lk)("label",{for:"summoner"},"ì†Œí™˜ì‚¬ ì´ë¦„",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=e=>r.summonerName=e),placeholder:"ì†Œí™˜ì‚¬ ì´ë¦„ ì…ë ¥"},null,512),[[o.Jo,r.summonerName]]),t[32]||(t[32]=(0,a.Lk)("label",{for:"tag"},"íƒœê·¸",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=e=>r.tag=e),placeholder:"íƒœê·¸ ì…ë ¥ (ì˜ˆ: KR1)"},null,512),[[o.Jo,r.tag]]),(0,a.Lk)("button",{type:"button",onClick:t[9]||(t[9]=(...e)=>l.linkRiotAccount&&l.linkRiotAccount(...e))},"ì—°ë™í•˜ê¸°"),(0,a.Lk)("button",{onClick:t[10]||(t[10]=e=>r.showRiotModal=!1)},"ë‹«ê¸°")])])):(0,a.Q3)("",!0)])])}var vt={name:"MypageEdit",data(){return{userInfo:{nickname:"",email:"",gender:"",birthdate:""},riotInfo:{summonerRank:{tier:"",rank:""},summonerInfo:{summonerLevel:"",profileIconId:""},top5Champions:[]},showRiotModal:!1,summonerName:"",tag:""}},mounted(){this.checkLoginStatus()},methods:{async checkLoginStatus(){try{const e=await fetch("http://localhost:3000/auth/check-login",{method:"GET",credentials:"include"});if(e.ok){const t=await e.json();this.isLoggedIn=t.loggedIn,t.loggedIn&&(this.userInfo=t.user||{})}else this.resetUserData()}catch(e){console.error("Error checking login status:",e),this.resetUserData()}},async updateUserProfile(){try{const e=await fetch("http://localhost:3000/change-userprofile",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({nickname:this.userInfo.nickname,birthdate:this.userInfo.birthdate,gender:this.userInfo.gender,email:this.userInfo.email})});if(e.ok){const t=await e.json();t.success?alert("ë‚´ ì •ë³´ê°€ ì„±ê³µì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤."):alert(t.message||"ë‚´ ì •ë³´ ë³€ê²½ ì‹¤íŒ¨")}else console.error("Error updating profile:",e.statusText),alert("ì„œë²„ ìš”ì²­ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}catch(e){console.error("Error updating profile:",e),alert("ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")}},async linkRiotAccount(){if(console.log("ì—°ë™í•˜ê¸° ë²„íŠ¼ í´ë¦­ë¨"),this.summonerName&&this.tag)try{console.log("ì†Œí™˜ì‚¬ ì´ë¦„:",this.summonerName),console.log("íƒœê·¸:",this.tag),console.log("ì—°ë™ ìš”ì²­ ë³´ëƒ„:",this.summonerName,this.tag);const e=await fetch("http://localhost:3000/summonerInfo",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({summonerName:this.summonerName,tag:this.tag})});console.log("ì„œë²„ ì‘ë‹µ ìƒíƒœ ì½”ë“œ:",e.status);const t=await e.json();console.log("ì„œë²„ ì‘ë‹µ ë°ì´í„°:",t),t.success?(alert("ë¼ì´ì—‡ ì—°ë™ ì™„ë£Œ"),this.riotInfo={tier:t.tier||"ì •ë³´ ì—†ìŒ",summonerLevel:t.summonerLevel||"ì •ë³´ ì—†ìŒ",profileIconId:t.profileIconId||"",top5Champions:t.top5Champions||[]},this.showRiotModal=!1):alert("ë¼ì´ì—‡ ì—°ë™ ì‹¤íŒ¨: "+t.message)}catch(e){console.error("Error linking Riot account:",e),alert("ì—°ë™ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")}else alert("ì†Œí™˜ì‚¬ ì´ë¦„ê³¼ íƒœê·¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.")}}};const Lt=(0,N.A)(vt,[["render",gt],["__scopeId","data-v-1da15b88"]]);var ft=Lt;const wt={key:0},yt={key:1},bt={key:3},Ct={key:0},It={key:1,class:"error"},At={key:2},Pt=["onClick"],Et=["innerHTML"],Tt={key:3},St={key:4};function Xt(e,t,s,n,r,l){return(0,a.uX)(),(0,a.CE)("div",null,[t[20]||(t[20]=(0,a.Lk)("h1",null,"ê²Œì‹œíŒ",-1)),"board"===r.currentPage?((0,a.uX)(),(0,a.CE)("div",wt,[t[12]||(t[12]=(0,a.Lk)("label",{for:"search"},"ê²€ìƒ‰:",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.searchQuery=e),onKeyup:t[1]||(t[1]=(0,o.jR)(((...e)=>l.filterPosts&&l.filterPosts(...e)),["enter"])),type:"text",id:"search",placeholder:"ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”"},null,544),[[o.Jo,r.searchQuery]]),(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>r.searchType=e)},t[11]||(t[11]=[(0,a.Lk)("option",{value:"title"},"ì œëª©",-1),(0,a.Lk)("option",{value:"content"},"ë‚´ìš©",-1),(0,a.Lk)("option",{value:"author"},"ë“±ë¡ìëª…",-1)]),512),[[o.u1,r.searchType]]),(0,a.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>l.resetSearch&&l.resetSearch(...e))},"ì´ˆê¸°í™”")])):(0,a.Q3)("",!0),"board"===r.currentPage?((0,a.uX)(),(0,a.CE)("div",yt,[t[14]||(t[14]=(0,a.Lk)("label",{for:"sort"},"ì •ë ¬:",-1)),(0,a.bo)((0,a.Lk)("select",{id:"sort","onUpdate:modelValue":t[4]||(t[4]=e=>r.sortOrder=e),onChange:t[5]||(t[5]=(...t)=>e.sortPosts&&e.sortPosts(...t))},t[13]||(t[13]=[(0,a.Lk)("option",{value:"latest"},"ìµœì‹ ìˆœ",-1),(0,a.Lk)("option",{value:"oldest"},"ì˜¤ë˜ëœìˆœ",-1),(0,a.Lk)("option",{value:"likes"},"ì¢‹ì•„ìš”ìˆœ",-1),(0,a.Lk)("option",{value:"views"},"ì¡°íšŒìˆ˜ìˆœ",-1)]),544),[[o.u1,r.sortOrder]])])):(0,a.Q3)("",!0),"board"===r.currentPage?((0,a.uX)(),(0,a.CE)("button",{key:2,onClick:t[6]||(t[6]=(...e)=>l.goToWritePage&&l.goToWritePage(...e))},"ê²Œì‹œê¸€ ì‘ì„±")):(0,a.Q3)("",!0),"board"===r.currentPage?((0,a.uX)(),(0,a.CE)("div",bt,[r.loading?((0,a.uX)(),(0,a.CE)("div",Ct,"ë¡œë”© ì¤‘...")):r.error?((0,a.uX)(),(0,a.CE)("div",It,"ê²Œì‹œê¸€ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")):l.sortedPosts.length?((0,a.uX)(),(0,a.CE)("ul",At,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.sortedPosts,(e=>((0,a.uX)(),(0,a.CE)("li",{key:e._id},[(0,a.Lk)("h2",{onClick:t=>l.goToDetailPage(e._id)},(0,i.v_)(e.title),9,Pt),(0,a.Lk)("p",{innerHTML:l.convertNewLinesToBreaks(e.content)},null,8,Et),(0,a.Lk)("small",null,(0,i.v_)(e.author||"ì‘ì„±ì ì—†ìŒ")+" - "+(0,i.v_)(l.formatDate(e.createdAt)),1),(0,a.Lk)("div",null,[(0,a.Lk)("span",null,"ğŸ‘ "+(0,i.v_)(e.likes||0),1),t[15]||(t[15]=(0,a.eW)(" | ")),(0,a.Lk)("span",null,"ğŸ‘ "+(0,i.v_)(e.dislikes||0),1)]),(0,a.Lk)("div",null," ì¡°íšŒìˆ˜ : "+(0,i.v_)(e.views||0),1)])))),128))])):((0,a.uX)(),(0,a.CE)("div",Tt," ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤. "))])):(0,a.Q3)("",!0),"write"===r.currentPage?((0,a.uX)(),(0,a.CE)("div",St,[t[19]||(t[19]=(0,a.Lk)("h2",null,"ê²Œì‹œê¸€ ì‘ì„±",-1)),(0,a.Lk)("form",{onSubmit:t[10]||(t[10]=(0,o.D$)(((...e)=>l.submitPost&&l.submitPost(...e)),["prevent"]))},[(0,a.Lk)("div",null,[t[16]||(t[16]=(0,a.Lk)("label",{for:"title"},"ì œëª©",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>r.title=e),type:"text",id:"title",required:""},null,512),[[o.Jo,r.title]])]),(0,a.Lk)("div",null,[t[17]||(t[17]=(0,a.Lk)("label",{for:"content"},"ë‚´ìš©",-1)),(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[8]||(t[8]=e=>r.content=e),id:"content",required:""},null,512),[[o.Jo,r.content]])]),t[18]||(t[18]=(0,a.Lk)("button",{type:"submit"},"ê²Œì‹œê¸€ ì‘ì„±",-1)),(0,a.Lk)("button",{type:"button",onClick:t[9]||(t[9]=(...e)=>l.goToBoardPage&&l.goToBoardPage(...e))},"ì·¨ì†Œ")],32)])):(0,a.Q3)("",!0)])}s(8111),s(2489);var Dt=s(4335),Rt={data(){return{posts:[],filteredPosts:[],loading:!0,error:!1,title:"",content:"",currentPage:"board",currentUser:null,sortOrder:"latest",searchQuery:"",searchType:"title"}},computed:{sortedPosts(){return[...this.filteredPosts].sort(((e,t)=>"latest"===this.sortOrder?new Date(t.createdAt)-new Date(e.createdAt):"oldest"===this.sortOrder?new Date(e.createdAt)-new Date(t.createdAt):"likes"===this.sortOrder?(t.likes||0)-(e.likes||0):"views"===this.sortOrder?(t.views||0)-(e.views||0):void 0))}},created(){this.initData(),this.checkLoginStatus()},methods:{async checkLoginStatus(){try{const e=await Dt.A.get("http://localhost:3000/auth/check-login",{withCredentials:!0});this.currentUser=e.data.user||null}catch(e){console.error("ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:",e),this.currentUser=null}},async initData(){this.loading=!0,this.error=!1;try{await this.fetchPosts()}catch(e){console.error("ì´ˆê¸° ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ ë°œìƒ:",e),this.error=!0}finally{this.loading=!1}},async fetchPosts(){try{const e=await Dt.A.get("http://localhost:3000/api/board",{withCredentials:!0});this.posts=e.data,this.filteredPosts=[...this.posts]}catch(e){console.error("ê²Œì‹œê¸€ì„ ê°€ì ¸ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ ë°œìƒ:",e),this.error=!0}},filterPosts(){this.searchQuery.trim()?"title"===this.searchType?this.filteredPosts=this.posts.filter((e=>e.title.toLowerCase().includes(this.searchQuery.toLowerCase()))):"content"===this.searchType?this.filteredPosts=this.posts.filter((e=>e.content.toLowerCase().includes(this.searchQuery.toLowerCase()))):"author"===this.searchType&&(this.filteredPosts=this.posts.filter((e=>e.author.toLowerCase().includes(this.searchQuery.toLowerCase())))):this.filteredPosts=[...this.posts]},async submitPost(){try{await Dt.A.post("http://localhost:3000/api/board",{title:this.title,content:this.content},{withCredentials:!0}),this.goToBoardPage(),this.initData()}catch(e){console.error("ê²Œì‹œê¸€ ì‘ì„± ì¤‘ ì˜¤ë¥˜ ë°œìƒ:",e)}},goToBoardPage(){this.currentPage="board",this.title="",this.content=""},goToWritePage(){this.currentUser?this.currentPage="write":alert("ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.")},goToDetailPage(e){this.$router.push({name:"BoardDetail",params:{id:e}})},formatDate(e){return new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},resetSearch(){this.searchQuery="",this.filteredPosts=[...this.posts]},convertNewLinesToBreaks(e){return e.replace(/\n/g,"<br>")}}};const Ut=(0,N.A)(Rt,[["render",Xt],["__scopeId","data-v-6e4f7448"]]);var Bt=Ut;const Nt={key:0},Mt={key:0},Vt={key:1},Ft=["innerHTML"],jt={key:0},Qt={key:2},Ot={class:"comment-header"},qt={key:0,class:"comment-actions"},Wt=["onClick"],xt=["onClick"],Jt={key:0},Yt=["onClick"],Ht={key:1},Zt=["innerHTML"],Kt=["onClick"],zt=["onClick"],Gt={key:3},_t={key:1},$t={key:2};function es(e,t,s,n,r,l){return(0,a.uX)(),(0,a.CE)("div",null,[r.post?((0,a.uX)(),(0,a.CE)("div",Nt,[r.isEditing?((0,a.uX)(),(0,a.CE)("div",Mt,[t[17]||(t[17]=(0,a.Lk)("h1",null,"ê²Œì‹œê¸€ ìˆ˜ì •",-1)),(0,a.Lk)("form",{onSubmit:t[3]||(t[3]=(0,o.D$)(((...e)=>l.updatePost&&l.updatePost(...e)),["prevent"]))},[(0,a.Lk)("div",null,[t[14]||(t[14]=(0,a.Lk)("label",{for:"title"},"ì œëª©",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.editedTitle=e),id:"title",type:"text",required:""},null,512),[[o.Jo,r.editedTitle]])]),(0,a.Lk)("div",null,[t[15]||(t[15]=(0,a.Lk)("label",{for:"content"},"ë‚´ìš©",-1)),(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.editedContent=e),id:"content",required:""},null,512),[[o.Jo,r.editedContent]])]),t[16]||(t[16]=(0,a.Lk)("button",{type:"submit"},"ìˆ˜ì • ì™„ë£Œ",-1)),(0,a.Lk)("button",{type:"button",onClick:t[2]||(t[2]=(...e)=>l.cancelEdit&&l.cancelEdit(...e))},"ì·¨ì†Œ")],32)])):((0,a.uX)(),(0,a.CE)("div",Vt,[(0,a.Lk)("h1",null,(0,i.v_)(r.post.title),1),(0,a.Lk)("p",{innerHTML:l.convertNewLinesToBreaks(r.post.content)},null,8,Ft),(0,a.Lk)("small",null,"ì‘ì„±ì: "+(0,i.v_)(r.post.author||"ì‘ì„±ì ì—†ìŒ"),1),t[18]||(t[18]=(0,a.Lk)("br",null,null,-1)),(0,a.Lk)("small",null,"ì‘ì„± ì‹œê°„: "+(0,i.v_)(l.formatDate(r.post.createdAt)),1),t[19]||(t[19]=(0,a.Lk)("br",null,null,-1)),(0,a.Lk)("small",null,"ì¡°íšŒìˆ˜ : "+(0,i.v_)(r.post.views||0),1),(0,a.Lk)("div",null,[(0,a.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>l.likePost&&l.likePost(...e))},"ì¢‹ì•„ìš” ("+(0,i.v_)(r.post.likes)+")",1),(0,a.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>l.dislikePost&&l.dislikePost(...e))},"ì‹«ì–´ìš” ("+(0,i.v_)(r.post.dislikes)+")",1)]),l.isAuthor?((0,a.uX)(),(0,a.CE)("div",jt,[(0,a.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>l.enterEditMode&&l.enterEditMode(...e))},"ìˆ˜ì •"),(0,a.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>l.deletePost&&l.deletePost(...e))},"ì‚­ì œ")])):(0,a.Q3)("",!0)])),r.comments.length>0?((0,a.uX)(),(0,a.CE)("div",Qt,[(0,a.Lk)("h3",null,"ëŒ“ê¸€ ("+(0,i.v_)(r.comments.length)+")",1),(0,a.Lk)("div",null,[t[21]||(t[21]=(0,a.Lk)("label",{for:"comment-sort"},"ì •ë ¬ ê¸°ì¤€:",-1)),(0,a.bo)((0,a.Lk)("select",{id:"comment-sort","onUpdate:modelValue":t[8]||(t[8]=e=>r.sortOrder=e),onChange:t[9]||(t[9]=(...e)=>l.sortComments&&l.sortComments(...e))},t[20]||(t[20]=[(0,a.Lk)("option",{value:"latest"},"ìµœì‹ ìˆœ",-1),(0,a.Lk)("option",{value:"oldest"},"ì˜¤ë˜ëœìˆœ",-1),(0,a.Lk)("option",{value:"likes"},"ì¢‹ì•„ìš”ìˆœ",-1)]),544),[[o.u1,r.sortOrder]])]),(0,a.Lk)("ul",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.sortedComments,(e=>((0,a.uX)(),(0,a.CE)("li",{key:e._id,class:"comment-item"},[(0,a.Lk)("div",Ot,[(0,a.Lk)("strong",null,(0,i.v_)(e.nickname),1),(0,a.Lk)("small",null,(0,i.v_)(l.formatDate(e.createdAt)),1),r.currentUser?.userid===e.userId?((0,a.uX)(),(0,a.CE)("div",qt,[(0,a.Lk)("button",{onClick:t=>l.startEditingComment(e._id,e.content)},"ëŒ“ê¸€ ìˆ˜ì •",8,Wt),(0,a.Lk)("button",{onClick:t=>l.deleteComment(e._id)},"ëŒ“ê¸€ ì‚­ì œ",8,xt)])):(0,a.Q3)("",!0)]),r.editingCommentId===e._id?((0,a.uX)(),(0,a.CE)("div",Jt,[(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[10]||(t[10]=e=>r.editingContent=e)},null,512),[[o.Jo,r.editingContent]]),(0,a.Lk)("button",{onClick:t=>l.saveEditedComment(e._id)},"ì €ì¥",8,Yt),(0,a.Lk)("button",{onClick:t[11]||(t[11]=(...e)=>l.cancelEditing&&l.cancelEditing(...e))},"ì·¨ì†Œ")])):((0,a.uX)(),(0,a.CE)("div",Ht,[(0,a.Lk)("p",{innerHTML:l.convertNewLinesToBreaks(e.content)},null,8,Zt)])),(0,a.Lk)("div",null,[(0,a.Lk)("button",{onClick:t=>l.likeComment(e._id)},"ì¢‹ì•„ìš” ("+(0,i.v_)(e.likes||0)+")",9,Kt),(0,a.Lk)("button",{onClick:t=>l.dislikeComment(e._id)},"ì‹«ì–´ìš” ("+(0,i.v_)(e.dislikes||0)+")",9,zt)])])))),128))])])):(0,a.Q3)("",!0),r.currentUser?((0,a.uX)(),(0,a.CE)("div",Gt,[(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[12]||(t[12]=e=>r.newComment=e),placeholder:"ëŒ“ê¸€ì„ ì…ë ¥í•˜ì„¸ìš”"},null,512),[[o.Jo,r.newComment]]),(0,a.Lk)("button",{onClick:t[13]||(t[13]=(...e)=>l.submitComment&&l.submitComment(...e))},"ëŒ“ê¸€ ì‘ì„±")])):(0,a.Q3)("",!0)])):r.loading?((0,a.uX)(),(0,a.CE)("div",_t,t[22]||(t[22]=[(0,a.Lk)("h2",null,"ë¡œë”© ì¤‘...",-1)]))):((0,a.uX)(),(0,a.CE)("div",$t,t[23]||(t[23]=[(0,a.Lk)("h2",null,"ê²Œì‹œê¸€ì„ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.",-1)])))])}s(116);var ts={props:["id"],data(){return{post:null,currentUser:null,loading:!0,isEditing:!1,editedTitle:"",editedContent:"",comments:[],newComment:"",editingCommentId:null,editingContent:"",sortOrder:"latest"}},computed:{isAuthor(){return this.currentUser?.nickname===this.post?.author},sortedComments(){return[...this.comments].sort(((e,t)=>"latest"===this.sortOrder?new Date(t.createdAt)-new Date(e.createdAt):"oldest"===this.sortOrder?new Date(e.createdAt)-new Date(t.createdAt):"likes"===this.sortOrder?(t.likes||0)-(e.likes||0):void 0))}},methods:{async loadData(){this.loading=!0;try{await Promise.all([this.fetchPost(),this.fetchComments(),this.fetchCurrentUser()])}catch(e){console.error("ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ ë°œìƒ:",e)}finally{this.loading=!1}},async fetchPost(){try{const e=await Dt.A.get(`http://localhost:3000/api/board/${this.id}`,{withCredentials:!0});this.post=e.data,this.editedTitle=this.post.title,this.editedContent=this.post.content}catch(e){console.error("ê²Œì‹œê¸€ì„ ê°€ì ¸ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ ë°œìƒ:",e),this.post=null}},async fetchComments(){try{const e=await Dt.A.get(`http://localhost:3000/api/board/${this.id}/comments`,{withCredentials:!0});this.comments=e.data}catch(e){console.error("ëŒ“ê¸€ì„ ê°€ì ¸ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ ë°œìƒ:",e)}},async fetchCurrentUser(){try{const e=await Dt.A.get("http://localhost:3000/auth/check-login",{withCredentials:!0});e.data.loggedIn&&(this.currentUser=e.data.user)}catch(e){console.error("í˜„ì¬ ì‚¬ìš©ì ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤:",e),this.currentUser=null}},formatDate(e){const t=new Date(e);return t.toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},enterEditMode(){this.isEditing=!0},cancelEdit(){this.isEditing=!1,this.editedTitle=this.post.title,this.editedContent=this.post.content},async updatePost(){try{const e={title:this.editedTitle,content:this.editedContent};await Dt.A.put(`http://localhost:3000/api/board/${this.id}`,e,{withCredentials:!0}),this.post.title=this.editedTitle,this.post.content=this.editedContent,this.isEditing=!1,alert("ê²Œì‹œê¸€ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.")}catch(e){console.error("ê²Œì‹œê¸€ ìˆ˜ì • ì¤‘ ì˜¤ë¥˜ ë°œìƒ:",e),alert("ê²Œì‹œê¸€ ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}},async deletePost(){try{await Dt.A.delete(`http://localhost:3000/api/board/${this.id}`,{withCredentials:!0}),alert("ê²Œì‹œê¸€ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."),this.$router.push("/board")}catch(e){console.error("ê²Œì‹œê¸€ ì‚­ì œ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:",e)}},async likePost(){if(this.currentUser)try{const e=await Dt.A.put(`http://localhost:3000/api/board/${this.id}/like`,{action:"like"},{withCredentials:!0});this.post.likes=e.data.likes,this.post.dislikes=e.data.dislikes}catch(e){console.error("ì¢‹ì•„ìš” ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:",e),alert("ì¢‹ì•„ìš” ì²˜ë¦¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}else alert("ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.")},async dislikePost(){if(this.currentUser)try{const e=await Dt.A.put(`http://localhost:3000/api/board/${this.id}/like`,{action:"dislike"},{withCredentials:!0});this.post.likes=e.data.likes,this.post.dislikes=e.data.dislikes}catch(e){console.error("ì‹«ì–´ìš” ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:",e),alert("ì‹«ì–´ìš” ì²˜ë¦¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}else alert("ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.")},startEditingComment(e,t){this.editingCommentId=e,this.editingContent=t},cancelEditing(){this.editingCommentId=null,this.editingContent=""},async saveEditedComment(e){if(this.editingContent.trim())try{await Dt.A.put(`http://localhost:3000/api/board/comments/${e}`,{content:this.editingContent},{withCredentials:!0});const t=this.comments.find((t=>t._id===e));t&&(t.content=this.editingContent),this.cancelEditing(),alert("ëŒ“ê¸€ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.")}catch(t){console.error("ëŒ“ê¸€ ìˆ˜ì • ì¤‘ ì˜¤ë¥˜ ë°œìƒ:",t),alert("ëŒ“ê¸€ ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}else alert("ìˆ˜ì •í•  ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.")},async deleteComment(e){try{await Dt.A.delete(`http://localhost:3000/api/board/comments/${e}`,{withCredentials:!0}),this.comments=this.comments.filter((t=>t._id!==e)),alert("ëŒ“ê¸€ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.")}catch(t){console.error("ëŒ“ê¸€ ì‚­ì œ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:",t),alert("ëŒ“ê¸€ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}},async submitComment(){if(this.newComment.trim())try{const e=await Dt.A.post(`http://localhost:3000/api/board/${this.id}/comments`,{content:this.newComment},{withCredentials:!0});this.comments.push(e.data),this.newComment=""}catch(e){console.error("ëŒ“ê¸€ ì‘ì„± ì¤‘ ì˜¤ë¥˜ ë°œìƒ:",e),alert("ëŒ“ê¸€ ì‘ì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}else alert("ëŒ“ê¸€ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.")},async likeComment(e){if(this.currentUser)try{await Dt.A.put(`http://localhost:3000/api/board/comments/${e}/like`,{action:"like"},{withCredentials:!0}),await this.fetchComments()}catch(t){console.error("ëŒ“ê¸€ ì¢‹ì•„ìš” ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:",t)}else alert("ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.")},async dislikeComment(e){if(this.currentUser)try{await Dt.A.put(`http://localhost:3000/api/board/comments/${e}/like`,{action:"dislike"},{withCredentials:!0}),await this.fetchComments()}catch(t){console.error("ëŒ“ê¸€ ì‹«ì–´ìš” ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:",t)}else alert("ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.")},sortComments(){console.log(`ì •ë ¬ ê¸°ì¤€ì´ ${this.sortOrder}ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.`)},async incrementViews(){try{const e=await Dt.A.post(`http://localhost:3000/api/board/${this.id}/views`,{},{withCredentials:!0});200===e.status&&(this.post.views+=1)}catch(e){console.error("ì¡°íšŒìˆ˜ ì¦ê°€ ìš”ì²­ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:",e)}},convertNewLinesToBreaks(e){return e.replace(/\n/g,"<br>")}},created(){this.loadData().then((()=>{this.incrementViews()}))}};const ss=(0,N.A)(ts,[["render",es]]);var os=ss,as="data:image/png;base64,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";const is={class:"contents"},ns={class:"contents-header"},rs={class:"header-right"},ls={class:"search-box"},cs={class:"patch-list"},ds={key:0},hs={class:"patch-info"},us=["href"],ms={class:"patch-date"};function ps(e,t,s,n,r,l){return(0,a.uX)(),(0,a.CE)("div",is,[(0,a.Lk)("section",ns,[(0,a.Lk)("div",rs,[(0,a.Lk)("div",ls,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.searchQuery=e),type:"text",placeholder:"ê²€ìƒ‰",class:"search-input"},null,512),[[o.Jo,r.searchQuery]]),t[2]||(t[2]=(0,a.Lk)("span",{class:"search-icon"},"ğŸ”",-1))])])]),(0,a.Lk)("section",cs,[0===r.patchNotes.length?((0,a.uX)(),(0,a.CE)("div",ds,t[3]||(t[3]=[(0,a.Lk)("p",null,"íŒ¨ì¹˜ ë…¸íŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...",-1)]))):(0,a.Q3)("",!0),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.filteredPatchNotes,((e,s)=>((0,a.uX)(),(0,a.CE)("div",{class:"patch-item",key:s},[t[4]||(t[4]=(0,a.Lk)("img",{src:as,alt:"íŒ¨ì¹˜ ì•„ì´ì½˜",class:"patch-icon"},null,-1)),(0,a.Lk)("div",hs,[(0,a.Lk)("a",{href:e.link,target:"_blank",class:"patch-title"},(0,i.v_)(e.title),9,us),(0,a.Lk)("p",ms,(0,i.v_)(e.date),1)])])))),128))]),r.canLoadMore?((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:t[1]||(t[1]=(...e)=>l.loadMore&&l.loadMore(...e))},"ë”ë³´ê¸°")):(0,a.Q3)("",!0)])}var ks={data(){return{patchNotes:[],skip:0,limit:12,canLoadMore:!0,searchQuery:""}},computed:{filteredPatchNotes(){return this.patchNotes.filter((e=>e.title.toLowerCase().includes(this.searchQuery.toLowerCase())))}},mounted(){this.fetchPatchNotes()},methods:{async fetchPatchNotes(){try{const e=await fetch(`http://localhost:3000/api/patch-notes/patch-notes?skip=${this.skip}&limit=${this.limit}`,{method:"GET",credentials:"include"});if(e.ok){const t=await e.json();this.patchNotes=t}else console.error("Error fetching patch notes")}catch(e){console.error("Error fetching patch notes:",e)}},async loadMore(){try{const e=await fetch(`http://localhost:3000/api/patch-notes/patch-notes?skip=${this.skip}&limit=${this.limit}`,{method:"GET",credentials:"include"});if(e.ok){const t=await e.json();this.patchNotes=[...this.patchNotes,...t],t.length<this.limit&&(this.canLoadMore=!1),this.skip+=this.limit}else console.error("Error fetching patch notes")}catch(e){console.error("Error fetching patch notes:",e)}},sortBy(e){"latest"===e&&this.patchNotes.sort(((e,t)=>new Date(t.date)-new Date(e.date)))}}};const gs=(0,N.A)(ks,[["render",ps],["__scopeId","data-v-263432c9"]]);var vs=gs;const Ls={class:"match-queue"},fs={class:"match-container"},ws={class:"profile-rank-container"},ys={class:"profile-section"},bs={class:"profile-picture"},Cs=["src"],Is={class:"user-rank-container"},As={class:"rank-info"},Ps=["src"],Es={class:"rank-text"},Ts={class:"selection-section"},Ss={class:"position-options"},Xs=["onClick"],Ds=["src","alt"],Rs={class:"selection-section"},Us={class:"voice-options"},Bs=["onClick"],Ns=["src","alt"],Ms={class:"selection-section"},Vs={class:"game-mode-options"},Fs=["onClick"],js=["src","alt"],Qs=["disabled"],Os={key:0,class:"match-confirmation"},qs={class:"match-buttons"},Ws={key:1,class:"popup-overlay"},xs={class:"popup-content"},Js={class:"waiting-time"};function Ys(e,t,s,o,n,r){return(0,a.uX)(),(0,a.CE)("div",Ls,[(0,a.Lk)("div",fs,[(0,a.Lk)("div",ws,[(0,a.Lk)("div",ys,[(0,a.Lk)("div",bs,[(0,a.Lk)("img",{src:`http://ddragon.leagueoflegends.com/cdn/14.22.1/img/profileicon/${n.userInfo.summonerInfo?.profileIconId}.png`,alt:"ì†Œí™˜ì‚¬ ì•„ì´ì½˜",class:"summoner-icon"},null,8,Cs)]),(0,a.Lk)("span",null,"ì•ˆë…•í•˜ì„¸ìš”, "+(0,i.v_)(n.userInfo.nickname)+"ë‹˜!",1),(0,a.Lk)("div",Is,[(0,a.Lk)("div",As,[(0,a.Lk)("img",{src:`https://raw.communitydragon.org/latest/plugins/rcp-fe-lol-shared-components/global/default/${n.userInfo.summonerRank?.tier.toLowerCase()}.png`,alt:"í‹°ì–´ ì•„ì´ì½˜",class:"rank-icon"},null,8,Ps),(0,a.Lk)("span",Es,(0,i.v_)(n.userInfo.summonerRank?.tier),1)]),(0,a.Lk)("button",{class:"refresh-button",onClick:t[0]||(t[0]=(...t)=>e.fetchLatestMatchData&&e.fetchLatestMatchData(...t))},"ì „ì  ê°±ì‹ ")])])]),(0,a.Lk)("div",Ts,[t[5]||(t[5]=(0,a.Lk)("h2",null,"í¬ì§€ì…˜ (ì¤‘ë³µ 2ê°œ ê°€ëŠ¥)",-1)),(0,a.Lk)("div",Ss,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.positions,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.value,class:(0,i.C4)({selected:n.selectedPositions.includes(e.value)}),onClick:t=>r.togglePosition(e.value)},[(0,a.Lk)("img",{src:e.icon,alt:e.label},null,8,Ds),(0,a.Lk)("span",null,(0,i.v_)(e.label),1)],10,Xs)))),128))])]),(0,a.Lk)("div",Rs,[t[6]||(t[6]=(0,a.Lk)("h2",null,"ìŒì„± ì±„íŒ… ì‚¬ìš© ì—¬ë¶€",-1)),(0,a.Lk)("div",Us,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.voiceOptions,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.value,class:(0,i.C4)({active:n.microphone===e.value}),onClick:t=>n.microphone=e.value},[(0,a.Lk)("img",{src:e.icon,alt:e.label},null,8,Ns),(0,a.Lk)("span",null,(0,i.v_)(e.label),1)],10,Bs)))),128))])]),(0,a.Lk)("div",Ms,[t[7]||(t[7]=(0,a.Lk)("h2",null,"ì¼ë°˜ / ë­í¬",-1)),(0,a.Lk)("div",Vs,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.gameModes,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.value,class:(0,i.C4)({active:n.matchType===e.value}),onClick:t=>n.matchType=e.value},[(0,a.Lk)("img",{src:e.icon,alt:e.label},null,8,js),(0,a.Lk)("span",null,(0,i.v_)(e.label),1)],10,Fs)))),128))])]),(0,a.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>r.startMatching&&r.startMatching(...e)),disabled:n.isMatching,class:"match-button"},"ë§¤ì¹­ ì‹œì‘",8,Qs)]),n.matchFound?((0,a.uX)(),(0,a.CE)("div",Os,[t[8]||(t[8]=(0,a.Lk)("div",{class:"match-info"},[(0,a.Lk)("p",{class:"match-text"},"ë§¤ì¹­ ì™„ë£Œ!!")],-1)),(0,a.Lk)("div",qs,[(0,a.Lk)("button",{class:"reject-button",onClick:t[2]||(t[2]=(...e)=>r.rejectMatch&&r.rejectMatch(...e))},"ê±°ì ˆ"),(0,a.Lk)("button",{class:"accept-button",onClick:t[3]||(t[3]=(...e)=>r.acceptMatch&&r.acceptMatch(...e))},"ìˆ˜ë½")])])):(0,a.Q3)("",!0),n.isMatching&&!n.matchFound?((0,a.uX)(),(0,a.CE)("div",Ws,[(0,a.Lk)("div",xs,[t[9]||(t[9]=(0,a.Lk)("img",{src:"/icons/loading.png",alt:"Loading",class:"loading-icon"},null,-1)),(0,a.Lk)("p",Js,(0,i.v_)(r.formattedTime),1),t[10]||(t[10]=(0,a.Lk)("p",null,"ìƒëŒ€ë¥¼ ì°¾ê³  ìˆìŠµë‹ˆë‹¤. ì ì‹œë§Œ ê¸°ë‹¤ë ¤ ì£¼ì„¸ìš”.",-1)),(0,a.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>r.cancelMatching&&r.cancelMatching(...e))},"ì·¨ì†Œ")])])):(0,a.Q3)("",!0)])}var Hs=s(4787);const Zs={data(){return{socket:null,isLoggedIn:!1,userInfo:{},selectedPositions:[],microphone:"ë¯¸ì‚¬ìš©",matchType:"ì¼ë°˜",isMatching:!1,matchFound:!1,matchId:null,waitingTime:0,timer:null,positionIconSize:40,voiceIconWidth:50,voiceIconHeight:80,gameModeIconSize:120,positions:[{label:"íƒ‘",value:"íƒ‘",icon:"/icons/top.png"},{label:"ì •ê¸€",value:"ì •ê¸€",icon:"/icons/jungle.png"},{label:"ë¯¸ë“œ",value:"ë¯¸ë“œ",icon:"/icons/mid.png"},{label:"ì›ë”œ",value:"ì›ë”œ",icon:"/icons/adc.png"},{label:"ì„œí¬í„°",value:"ì„œí¬í„°",icon:"/icons/support.png"},{label:"ì—†ìŒ",value:"ì—†ìŒ",icon:"/icons/none.png"}],voiceOptions:[{label:"ì‚¬ìš©",value:"ì‚¬ìš©",icon:"/icons/mic-on.png"},{label:"ë¯¸ì‚¬ìš©",value:"ë¯¸ì‚¬ìš©",icon:"/icons/mic-off.png"}],gameModes:[{label:"ì¼ë°˜",value:"ì¼ë°˜",icon:"/icons/normal.png"},{label:"ë­í¬",value:"ë­í¬",icon:"/icons/rank.png"}]}},async mounted(){await this.checkLoginStatus(),this.initializeSocket()},methods:{async checkLoginStatus(){try{const e=await fetch("http://localhost:3000/auth/check-login",{method:"GET",credentials:"include"});if(e.ok){const t=await e.json();this.isLoggedIn=t.loggedIn,t.loggedIn?(this.userInfo=t.user||{},console.log("ğŸ“¢ userInfo:",this.userInfo)):this.handleUnauthenticatedUser()}else this.handleUnauthenticatedUser()}catch(e){console.error("âŒ ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸ ì˜¤ë¥˜:",e),this.handleUnauthenticatedUser()}},handleUnauthenticatedUser(){this.isLoggedIn=!1,this.userInfo={},alert("ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤. ë©”ì¸ í™”ë©´ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤."),this.$router.push("/")},resetUserData(){this.isLoggedIn=!1,this.userInfo={}},initializeSocket(){this.socket=(0,Hs.io)("http://localhost:3000",{withCredentials:!0}),this.socket.on("disconnect",(()=>{console.log("âŒ ì„œë²„ ì—°ê²° í•´ì œë¨. ëŒ€ê¸°ì—´ì—ì„œ ì œê±°"),this.isMatching=!1,this.matchFound=!1,this.timer&&clearInterval(this.timer)})),this.socket.on("matchSuccess",(e=>{console.log("ğŸ”¹ ì„œë²„ì—ì„œ ë°›ì€ matchSuccess ë°ì´í„°:",e),this.matchId=e.matchId,this.matchFound=!0})),this.socket.on("matchRejected",(e=>{console.log("âŒ ë§¤ì¹­ ì·¨ì†Œë¨:",e.message),this.matchFound=!1,this.isMatching=!1,this.timer&&clearInterval(this.timer),alert("âš ï¸ ìƒëŒ€ë°©ì´ ë§¤ì¹­ì„ ê±°ë¶€í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”!")})),this.socket.on("matchCancelled",(e=>{console.log("âŒ ë§¤ì¹­ ì·¨ì†Œë¨:",e.message),this.matchFound=!1,this.isMatching=!1,this.timer&&clearInterval(this.timer)})),this.socket.on("matchConfirmed",(async e=>{try{const t=await fetch("http://localhost:3000/match/save",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({matchId:e.matchId})}),s=await t.json();s.success&&(console.log("âœ… ë§¤ì¹­ ì €ì¥ ì„±ê³µ"),this.$router.push(`/chatroom?matchId=${e.matchId}`))}catch(t){console.error("âŒ ë§¤ì¹­ ì €ì¥ ì˜¤ë¥˜:",t)}}))},togglePosition(e){this.selectedPositions.includes(e)?this.selectedPositions=this.selectedPositions.filter((t=>t!==e)):this.selectedPositions.length<2&&this.selectedPositions.push(e)},startMatching(){this.isMatching=!0,this.waitingTime=0,this.timer=setInterval((()=>{this.waitingTime++}),1e3),this.socket.emit("ì¼ë°˜"===this.matchType?"request normalmatch":"request rankmatch",{position:this.selectedPositions,microphone:this.microphone})},acceptMatch(){this.matchId&&this.socket.emit("acceptMatch",{matchId:this.matchId}),this.timer&&clearInterval(this.timer),this.isMatching=!1,this.matchFound=!1},rejectMatch(){this.matchId&&this.socket.emit("rejectMatch",{matchId:this.matchId}),this.timer&&clearInterval(this.timer),this.isMatching=!1,this.matchFound=!1},cancelMatching(){this.timer&&clearInterval(this.timer),this.isMatching=!1,this.socket.emit("cancel match")}},computed:{formattedTime(){const e=Math.floor(this.waitingTime/60),t=this.waitingTime%60;return`${e.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`}},beforeUnmount(){this.timer&&clearInterval(this.timer),this.socket&&this.socket.disconnect()}},Ks=()=>{(0,o.$9)((e=>({f6bff9d6:e.positionIconSize+"px",f7053bee:e.gameModeIconSize+"px"})))},zs=Zs.setup;Zs.setup=zs?(e,t)=>(Ks(),zs(e,t)):Ks;var Gs=Zs;const _s=(0,N.A)(Gs,[["render",Ys],["__scopeId","data-v-50e310a8"]]);var $s=_s;const eo={class:"chat-room"},to={class:"chat-header"},so={key:0,class:"opponent-info"},oo={key:1},ao={class:"chat-window",ref:"chatWindow"},io={key:0,class:"username"},no={class:"message-text"},ro={class:"chat-input"};function lo(e,t,s,n,r,l){return(0,a.uX)(),(0,a.CE)("div",eo,[(0,a.Lk)("div",to,[t[4]||(t[4]=(0,a.Lk)("h1",null,"ì±„íŒ…ë°©",-1)),(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.leaveRoom&&l.leaveRoom(...e)),class:"leave-button"},"ë‚˜ê°€ê¸°")]),l.getOpponent&&l.getOpponent.nickname?((0,a.uX)(),(0,a.CE)("div",so,[(0,a.Lk)("h2",null,(0,i.v_)(l.getOpponent.nickname),1),(0,a.Lk)("p",null,"í¬ì§€ì…˜: "+(0,i.v_)(l.getOpponent.position||"ì •ë³´ ì—†ìŒ"),1),(0,a.Lk)("p",null,"ë§ˆì´í¬: "+(0,i.v_)(l.getOpponent.microphone||"ì •ë³´ ì—†ìŒ"),1),(0,a.Lk)("p",null,"í‹°ì–´: "+(0,i.v_)(l.getOpponent.summonerRank.tier||"ì •ë³´ ì—†ìŒ"),1)])):((0,a.uX)(),(0,a.CE)("div",oo,t[5]||(t[5]=[(0,a.Lk)("p",null,"ë§¤ì¹­ëœ ìƒëŒ€ë°© ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...",-1)]))),(0,a.Lk)("div",ao,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.messages,((e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:(0,i.C4)(["chat-message",{"my-message":e.username===r.userInfo?.nickname,"system-message":"system"===e.type}])},[(0,a.Lk)("div",{class:(0,i.C4)(["message-content",{"system-content":"system"===e.type}])},["system"!==e.type?((0,a.uX)(),(0,a.CE)("span",io,(0,i.v_)(e.username),1)):(0,a.Q3)("",!0),(0,a.Lk)("span",no,(0,i.v_)(e.message),1)],2)],2)))),128))],512),(0,a.Lk)("div",ro,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.newMessage=e),onKeyup:t[2]||(t[2]=(0,o.jR)(((...e)=>l.sendMessage&&l.sendMessage(...e)),["enter"])),placeholder:"ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”...",ref:"messageInput"},null,544),[[o.Jo,r.newMessage]]),(0,a.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>l.sendMessage&&l.sendMessage(...e))},"ì „ì†¡")])])}var co={data(){return{socket:null,messages:[],newMessage:"",match:null,matchId:null,userInfo:null}},computed:{getOpponent(){return this.match&&this.match.players&&this.userInfo&&(this.match.players.find((e=>e.userid!==this.userInfo.userid))||this.match.players[0])||{}}},watch:{messages:{handler(){this.$nextTick((()=>{this.scrollToBottom()}))},deep:!0},match:{handler(e){e&&e.roomName&&!this.socket&&this.setupSocket()},deep:!0}},methods:{setupSocket(){this.socket||(console.log("ğŸ“¢ ì†Œì¼“ ì—°ê²° ì‹œë„"),this.socket=(0,Hs.io)("http://localhost:3000",{withCredentials:!0}),this.socket.on("connect",(()=>{console.log("âœ… ì†Œì¼“ ì—°ê²°ë¨:",this.socket.id),this.match&&this.match.roomName&&(console.log("ğŸ“¢ ë°© ì°¸ê°€ ì‹œë„:",this.match.roomName),this.socket.emit("join room",{roomName:this.match.roomName}))})),this.socket.on("chat message",(e=>{console.log("ğŸ’¬ ë©”ì‹œì§€ ìˆ˜ì‹ :",e),this.messages.push(e)})),this.socket.on("user disconnected",(e=>{console.log("ğŸ“¢ ìƒëŒ€ë°© ì ‘ì† ì¢…ë£Œ:",e),this.opponentDisconnected=!0,this.messages.push({type:"system",message:`${e.nickname}ë‹˜ì´ ì±„íŒ…ë°©ì„ ë‚˜ê°”ìŠµë‹ˆë‹¤.`}),setTimeout((()=>{this.$router.push("/match")}),3e3)})),this.socket.on("connect_error",(e=>{console.error("âŒ ì†Œì¼“ ì—°ê²° ì—ëŸ¬:",e)})))},leaveRoom(){this.socket&&this.matchId&&(this.socket.emit("leave room",{matchId:this.matchId,userId:this.userInfo.userid,nickname:this.userInfo.nickname}),this.socket.disconnect()),this.$router.push("/match")},sendMessage(){this.newMessage.trim()&&this.socket&&this.matchId?(console.log("ğŸ“¢ ë©”ì‹œì§€ ì „ì†¡ ì‹œë„:",{matchId:this.matchId,message:this.newMessage}),this.socket.emit("chat message",{matchId:this.matchId,message:this.newMessage}),this.newMessage=""):console.warn("âš ï¸ ë©”ì‹œì§€ ì „ì†¡ ì‹¤íŒ¨:",{hasSocket:!!this.socket,hasMatchId:!!this.matchId,messageLength:this.newMessage.length})},scrollToBottom(){const e=this.$refs.chatWindow;e&&(e.scrollTop=e.scrollHeight)},async fetchUserInfo(){try{const e=await fetch("http://localhost:3000/auth/check-login",{credentials:"include"}),t=await e.json();t.loggedIn?(this.userInfo=t.user,console.log("âœ… ì‚¬ìš©ì ì •ë³´ ë¡œë“œë¨:",this.userInfo)):console.error("âŒ ì‚¬ìš©ì ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")}catch(e){console.error("âŒ ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ ì˜¤ë¥˜:",e)}},async fetchMatchInfo(){if(this.matchId)try{const e=await fetch(`http://localhost:3000/match/get/${this.matchId}`,{method:"GET",credentials:"include"}),t=await e.json();console.log("ğŸ”¹ ì„œë²„ì—ì„œ ë°›ì€ ë§¤ì¹­ ë°ì´í„°:",t),t.success?this.match=t.match:console.error("âŒ ë§¤ì¹­ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")}catch(e){console.error("âŒ ë§¤ì¹­ ì •ë³´ ê°€ì ¸ì˜¤ê¸° ì˜¤ë¥˜:",e)}else console.error("âŒ matchIdê°€ ì—†ìŒ!")}},async mounted(){this.matchId=this.$route.query.matchId,console.log("ğŸ“¢ ChatRoomì—ì„œ ë°›ì€ matchId:",this.matchId),await this.fetchUserInfo(),await this.fetchMatchInfo(),this.setupSocket()},beforeUnmount(){this.socket&&(this.opponentDisconnected||this.socket.emit("leave room",{matchId:this.matchId,userId:this.userInfo.userid,nickname:this.userInfo.nickname}),console.log("ğŸ“¢ ì†Œì¼“ ì—°ê²° ì¢…ë£Œ"),this.socket.disconnect(),this.socket=null)}};const ho=(0,N.A)(co,[["render",lo],["__scopeId","data-v-78c9496e"]]);var uo=ho;const mo=[{path:"/signup",name:"Signup",component:se},{path:"/login",name:"Login",component:be},{path:"/request-password-reset",component:Ee},{path:"/reset-password",component:Re},{path:"/find-password",component:qe},{path:"/find-id",component:He},{path:"/mypage-edit",component:ft},{path:"/board",name:"BoardForm",component:Bt},{path:"/board/:id",name:"BoardDetail",component:os,props:!0},{path:"/matchqueue",component:$s},{path:"/chatroom",name:"ChatRoom",component:uo,props:!0},{path:"/patch-notes",name:"PatchNotesDisplay",component:vs}],po=(0,F.aE)({history:(0,F.LA)(),routes:mo});async function ko(){try{const e=await Dt.A.get("http://localhost:3000/auth/check-login",{withCredentials:!0});return e.data.loggedIn}catch(e){return console.error("Error checking login status:",e),!1}}po.beforeEach((async(e,t,s)=>{const o=e.meta.requiresAuth;if(o){const t=await ko();if(!t)return s({name:"Login",query:{redirect:e.fullPath}})}s()}));var go=po;(0,o.Ef)(V).use(go).mount("#app")}},t={};function s(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,s),i.exports}s.m=e,function(){var e=[];s.O=function(t,o,a,i){if(!o){var n=1/0;for(d=0;d<e.length;d++){o=e[d][0],a=e[d][1],i=e[d][2];for(var r=!0,l=0;l<o.length;l++)(!1&i||n>=i)&&Object.keys(s.O).every((function(e){return s.O[e](o[l])}))?o.splice(l--,1):(r=!1,i<n&&(n=i));if(r){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[o,a,i]}}(),function(){s.d=function(e,t){for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p="/Duo-Mate/"}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,i,n=o[0],r=o[1],l=o[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(a in r)s.o(r,a)&&(s.m[a]=r[a]);if(l)var d=l(s)}for(t&&t(o);c<n.length;c++)i=n[c],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(d)},o=self["webpackChunkvue_node_app"]=self["webpackChunkvue_node_app"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=s.O(void 0,[504],(function(){return s(8249)}));o=s.O(o)})();
//# sourceMappingURL=app.489c7251.js.map